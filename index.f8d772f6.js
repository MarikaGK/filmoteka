const e=e=>{const o=e.genres;localStorage.setItem("movieGenresIdsArray",JSON.stringify(o))},o=(()=>{const e=localStorage.getItem("movieGenresIdsArray");return JSON.parse(e)})();console.log("to jest genresIdArray"),console.log(o);const t=e=>e.slice(0,3).map((e=>(e=>o.filter((o=>o.id===e))[0].name)(e))).join(", "),s=document.querySelector(".gallery"),r=e=>{const o=e.map((e=>{const o=t(e.genre_ids);return null!==e.poster_path?`<div class="movie-card" data-movie-id="${e.id}">\n          <div class="movie-card-poster">\n          <img class="movie-img" src="https://image.tmdb.org/t/p/original${e.poster_path}" width=280 alt="${e.original_title}" loading="lazy" />\n              </div>\n            <div class="movie-card-description">\n              <p class="movie-title">${e.original_title}</p>\n              <div class="movie-subtitle">\n              <span class="movie-genre">${o}  |</span>\n              <span class="movie-year">${parseInt(e.release_date)}</span>\n            </div>\n          </div>\n          </div>`:`<div class="movie-card" data-movie-id="${e.id}">\n        <div class="movie-card-poster"></div>\n        <div class="movie-card-description">  \n          <p class="movie-title">${e.original_title}</p>\n          <div class="movie-subtitle">\n            <span class="movie-genre">${o}  |</span>\n            <span class="movie-year">${parseInt(e.release_date)}</span>\n          </div>\n        </div>\n        </div>`})).join("");s.insertAdjacentHTML("beforeend",o)},a=document.querySelector(".header-no-hit-info");const n=async()=>{try{const o=await fetch("https://api.themoviedb.org/3/genre/movie/list?api_key=11f568ee70218bec08ad7368f7bb3250");if(!o.ok)throw new Error(o.status);const t=await o.json();return console.log(t.genres),void e(t)}catch(e){console.error(e)}},i=async e=>{try{a.textContent="";const o=await fetch("https://api.themoviedb.org/3/search/movie?api_key=11f568ee70218bec08ad7368f7bb3250&query="+e+"&page=1");if(!o.ok)throw new Error(o.status);const t=await o.json();if(!t.total_results)return a.textContent="Search result not successful. Enter the correct movie name and search again.",void console.log("pusta tablica");console.log(`Poniżej przykladowy console.log dla filmu "${e}"`),console.log(t),document.querySelector("form").addEventListener("submit",(()=>{const e=document.querySelector(".loader");let o;e.classList.remove("loader-hidden"),o=setTimeout((()=>{e.classList.add("loader-hidden")}),1500),console.log(e.classList)})),console.log("showLoader work"),r(t.results)}catch(e){console.error(e)}},c=document.querySelector(".gallery"),l=document.querySelector(".header-input__text-box"),d=document.querySelector(".header-no-hit-info");document.querySelector(".header-input__form").addEventListener("submit",(function(e){e.preventDefault();const o=l.value.trim();d.textContent="",o?(c.textContent="",i(o)):d.textContent="Type your movie title here"})),n(),window.addEventListener("load",(()=>{localStorage.getItem("movieGenresIdsArray")||n();const e=document.querySelector(".loader");let o;e.classList.remove("loader-hidden"),o=setTimeout((()=>{e.classList.add("loader-hidden")}),1500),console.log(e.classList)})),console.log("startLoader work"),(async(e=1)=>{try{const o=await fetch("https://api.themoviedb.org/3/movie/popular?api_key=11f568ee70218bec08ad7368f7bb3250&page="+e);if(!o.ok)throw new Error(o.status);const t=await o.json();console.log(t),r(t.results)}catch(e){console.error(e)}})();(async e=>{try{const o=await fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=11f568ee70218bec08ad7368f7bb3250");if(!o.ok)throw new Error(o.status);const t=await o.json();console.log(`Poniżej console.log dla jednego filmu (${t.original_title}) po movieId: ${e}`),console.log(t)}catch(e){console.error(e)}})("603692"),(async e=>{try{const o=await fetch("https://api.themoviedb.org/3/movie/"+e+"/videos?api_key=11f568ee70218bec08ad7368f7bb3250");if(!o.ok)throw new Error(o.status);const t=await o.json(),s=t.results.findIndex((e=>"Trailer"===e.type)),r=`https://www.youtube.com/watch?v=${t.results[s].key}`;console.log(r)}catch(e){console.error(e)}})("603692");
//# sourceMappingURL=index.f8d772f6.js.map
