!function(){function e(e){return e&&e.__esModule?e.default:e}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},n={},a=t.parcelRequired7c6;null==a&&((a=function(e){if(e in i)return i[e].exports;if(e in n){var t=n[e];delete n[e];var a={id:e,exports:{}};return i[e]=a,t.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,t){n[e]=t},t.parcelRequired7c6=a),a.register("ds8z5",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}})),a.register("2mz0K",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=n.default(e)););return e};var i,n=(i=a("fVNic"))&&i.__esModule?i:{default:i}})),a.register("fVNic",(function(e,t){"use strict";function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return i(e)}})),a.register("gD1JV",(function(e,t){"use strict";function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return i(e,t)}})),a.register("jmhxu",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){return!t||"object"!==n.default(t)&&"function"!=typeof t?i.default(e):t};var i=o(a("ds8z5")),n=o(a("l5bVx"));function o(e){return e&&e.__esModule?e:{default:e}}})),a.register("l5bVx",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){return e&&e.constructor===Symbol?"symbol":typeof e}})),a.register("8slrw",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return e}})),a.register("7AJDX",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}})),a.register("ifqQW",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("auk6i",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){if(!e)return;if("string"==typeof e)return n.default(e,t);var i=Object.prototype.toString.call(e).slice(8,-1);"Object"===i&&e.constructor&&(i=e.constructor.name);if("Map"===i||"Set"===i)return Array.from(i);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return n.default(e,t)};var i,n=(i=a("8NIkP"))&&i.__esModule?i:{default:i}})),a.register("8NIkP",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var i=0,n=new Array(t);i<t;i++)n[i]=e[i];return n}})),a.register("kMC0W",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(e){if(Array.isArray(e))return n.default(e)};var i,n=(i=a("8NIkP"))&&i.__esModule?i:{default:i}})),a.register("8CtQK",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}})),a.register("aTHs7",(function(e,t){"use strict";Object.defineProperty(e.exports,"__esModule",{value:!0}),e.exports.default=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}}));var o={};function r(e,t,i,n,a,o,r){try{var s=e[o](r),l=s.value}catch(e){return void i(e)}s.done?t(l):Promise.resolve(l).then(n,a)}Object.defineProperty(o,"__esModule",{value:!0}),o.default=function(e){return function(){var t=this,i=arguments;return new Promise((function(n,a){var o=e.apply(t,i);function s(e){r(o,n,a,s,l,"next",e)}function l(e){r(o,n,a,s,l,"throw",e)}s(void 0)}))}};var s={},l=function(e){"use strict";var t,i=Object.prototype,n=i.hasOwnProperty,a="function"==typeof Symbol?Symbol:{},o=a.iterator||"@@iterator",r=a.asyncIterator||"@@asyncIterator",s=a.toStringTag||"@@toStringTag";function l(e,t,i){return Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,i){return e[t]=i}}function c(e,t,i,n){var a=t&&t.prototype instanceof m?t:m,o=Object.create(a.prototype),r=new T(n||[]);return o._invoke=function(e,t,i){var n=h;return function(a,o){if(n===f)throw new Error("Generator is already running");if(n===v){if("throw"===a)throw o;return A()}for(i.method=a,i.arg=o;;){var r=i.delegate;if(r){var s=P(r,i);if(s){if(s===p)continue;return s}}if("next"===i.method)i.sent=i._sent=i.arg;else if("throw"===i.method){if(n===h)throw n=v,i.arg;i.dispatchException(i.arg)}else"return"===i.method&&i.abrupt("return",i.arg);n=f;var l=u(e,t,i);if("normal"===l.type){if(n=i.done?v:d,l.arg===p)continue;return{value:l.arg,done:i.done}}"throw"===l.type&&(n=v,i.method="throw",i.arg=l.arg)}}}(e,i,r),o}function u(e,t,i){try{return{type:"normal",arg:e.call(t,i)}}catch(e){return{type:"throw",arg:e}}}e.wrap=c;var h="suspendedStart",d="suspendedYield",f="executing",v="completed",p={};function m(){}function g(){}function y(){}var b={};l(b,o,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(C([])));x&&x!==i&&n.call(x,o)&&(b=x);var k=y.prototype=m.prototype=Object.create(b);function S(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function i(a,o,r,s){var l=u(e[a],e,o);if("throw"!==l.type){var c=l.arg,h=c.value;return h&&"object"==typeof h&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,r,s)}),(function(e){i("throw",e,r,s)})):t.resolve(h).then((function(e){c.value=e,r(c)}),(function(e){return i("throw",e,r,s)}))}s(l.arg)}var a;this._invoke=function(e,n){function o(){return new t((function(t,a){i(e,n,t,a)}))}return a=a?a.then(o,o):o()}}function P(e,i){var n=e.iterator[i.method];if(n===t){if(i.delegate=null,"throw"===i.method){if(e.iterator.return&&(i.method="return",i.arg=t,P(e,i),"throw"===i.method))return p;i.method="throw",i.arg=new TypeError("The iterator does not provide a 'throw' method")}return p}var a=u(n,e.iterator,i.arg);if("throw"===a.type)return i.method="throw",i.arg=a.arg,i.delegate=null,p;var o=a.arg;return o?o.done?(i[e.resultName]=o.value,i.next=e.nextLoc,"return"!==i.method&&(i.method="next",i.arg=t),i.delegate=null,p):o:(i.method="throw",i.arg=new TypeError("iterator result is not an object"),i.delegate=null,p)}function M(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(M,this),this.reset(!0)}function C(e){if(e){var i=e[o];if(i)return i.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var a=-1,r=function i(){for(;++a<e.length;)if(n.call(e,a))return i.value=e[a],i.done=!1,i;return i.value=t,i.done=!0,i};return r.next=r}}return{next:A}}function A(){return{value:t,done:!0}}return g.prototype=y,l(k,"constructor",y),l(y,"constructor",g),g.displayName=l(y,s,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===g||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,y):(e.__proto__=y,l(e,s,"GeneratorFunction")),e.prototype=Object.create(k),e},e.awrap=function(e){return{__await:e}},S(E.prototype),l(E.prototype,r,(function(){return this})),e.AsyncIterator=E,e.async=function(t,i,n,a,o){void 0===o&&(o=Promise);var r=new E(c(t,i,n,a),o);return e.isGeneratorFunction(i)?r:r.next().then((function(e){return e.done?e.value:r.next()}))},S(k),l(k,s,"Generator"),l(k,o,(function(){return this})),l(k,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var i in e)t.push(i);return t.reverse(),function i(){for(;t.length;){var n=t.pop();if(n in e)return i.value=n,i.done=!1,i}return i.done=!0,i}},e.values=C,T.prototype={constructor:T,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(O),!e)for(var i in this)"t"===i.charAt(0)&&n.call(this,i)&&!isNaN(+i.slice(1))&&(this[i]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var i=this;function a(n,a){return s.type="throw",s.arg=e,i.next=n,a&&(i.method="next",i.arg=t),!!a}for(var o=this.tryEntries.length-1;o>=0;--o){var r=this.tryEntries[o],s=r.completion;if("root"===r.tryLoc)return a("end");if(r.tryLoc<=this.prev){var l=n.call(r,"catchLoc"),c=n.call(r,"finallyLoc");if(l&&c){if(this.prev<r.catchLoc)return a(r.catchLoc,!0);if(this.prev<r.finallyLoc)return a(r.finallyLoc)}else if(l){if(this.prev<r.catchLoc)return a(r.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<r.finallyLoc)return a(r.finallyLoc)}}}},abrupt:function(e,t){for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i];if(a.tryLoc<=this.prev&&n.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var o=a;break}}o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc&&(o=null);var r=o?o.completion:{};return r.type=e,r.arg=t,o?(this.method="next",this.next=o.finallyLoc,p):this.complete(r)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),p},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.finallyLoc===e)return this.complete(i.completion,i.afterLoc),O(i),p}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var i=this.tryEntries[t];if(i.tryLoc===e){var n=i.completion;if("throw"===n.type){var a=n.arg;O(i)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,i,n){return this.delegate={iterator:C(e),resultName:i,nextLoc:n},"next"===this.method&&(this.arg=t),p}},e}(s);try{regeneratorRuntime=l}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=l:Function("r","regeneratorRuntime = r")(l)}var c,u=(c=localStorage.getItem("movieGenresIdsArray"),JSON.parse(c));console.log("to jest genresIdArray"),console.log(u);var h=function(e){return e.slice(0,3).map((function(e){return function(e){return u.filter((function(t){return t.id===e}))[0].name}(e)})).join(", ")},d=document.querySelector(".gallery"),f=function(e){var t=e.map((function(e){var t=h(e.genre_ids);return null!==e.poster_path?'<div class="movie-card" data-movie-id="'.concat(e.id,'">\n          <div class="movie-card-poster">\n          <img class="movie-img" src="https://image.tmdb.org/t/p/original').concat(e.poster_path,'" width=280 alt="').concat(e.original_title,'" loading="lazy" />\n              </div>\n            <div class="movie-card-description">\n              <p class="movie-title">').concat(e.original_title,'</p>\n              <div class="movie-subtitle">\n              <span class="movie-genre">').concat(t,'  |</span>\n              <span class="movie-year">').concat(parseInt(e.release_date),"</span>\n            </div>\n          </div>\n          </div>"):'<div class="movie-card" data-movie-id="'.concat(e.id,'">\n        <div class="movie-card-poster"></div>\n        <div class="movie-card-description">  \n          <p class="movie-title">').concat(e.original_title,'</p>\n          <div class="movie-subtitle">\n            <span class="movie-genre">').concat(t,'  |</span>\n            <span class="movie-year">').concat(parseInt(e.release_date),"</span>\n          </div>\n        </div>\n        </div>")})).join("");d.insertAdjacentHTML("beforeend",t)},v=a("ds8z5"),p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};var m={};function g(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}Object.defineProperty(m,"__esModule",{value:!0}),m.default=function(e,t,i){t&&g(e.prototype,t);i&&g(e,i);return e};var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default=function(e,t,i){t in e?Object.defineProperty(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i;return e};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default=function(e,t,i){return k(e,t,i)};var w,x=(w=a("2mz0K"))&&w.__esModule?w:{default:w};function k(e,t,i){return(k="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,i){var n=x.default(e,t);if(n){var a=Object.getOwnPropertyDescriptor(n,t);return a.get?a.get.call(i||e):a.value}})(e,t,i)}var S=a("fVNic"),E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&P.default(e,t)};var P=function(e){return e&&e.__esModule?e:{default:e}}(a("gD1JV"));var M=a("jmhxu"),O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default=function(e,t){return T.default(e)||C.default(e,t)||L.default(e,t)||A.default()};var T=_(a("8slrw")),C=_(a("7AJDX")),A=_(a("ifqQW")),L=_(a("auk6i"));function _(e){return e&&e.__esModule?e:{default:e}}var z={};Object.defineProperty(z,"__esModule",{value:!0}),z.default=function(e){return R.default(e)||I.default(e)||D.default(e)||j.default()};var R=F(a("kMC0W")),I=F(a("7AJDX")),j=F(a("8CtQK")),D=F(a("auk6i"));function F(e){return e&&e.__esModule?e:{default:e}}var H={};Object.defineProperty(H,"__esModule",{value:!0}),H.default=function(e){var t=B.default();return function(){var i,n=N.default(e);if(t){var a=N.default(this).constructor;i=Reflect.construct(n,arguments,a)}else i=n.apply(this,arguments);return W.default(this,i)}};var B=q(a("aTHs7")),N=q(a("fVNic")),W=q(a("jmhxu"));function q(e){return e&&e.__esModule?e:{default:e}}var X=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4;return e=parseFloat(e+"")||0,Math.round((e+Number.EPSILON)*t)/t},Y=function(e){if(!(e&&e instanceof Element&&e.offsetParent))return!1;var t=e.scrollHeight>e.clientHeight,i=window.getComputedStyle(e).overflowY,n=-1!==i.indexOf("hidden"),a=-1!==i.indexOf("visible");return t&&!n&&!a},V=function(e,t){return!(!e||e===document.body||t&&e===t)&&(Y(e)?e:V(e.parentElement,t))},G=function(e){var t=(new DOMParser).parseFromString(e,"text/html").body;if(t.childElementCount>1){for(var i=document.createElement("div");t.firstChild;)i.appendChild(t.firstChild);return i}return t.firstChild},Z=function(e){return"".concat(e||"").split(" ").filter((function(e){return!!e}))},U=function(e,t,i){Z(t).forEach((function(t){e&&e.classList.toggle(t,i||!1)}))},K=function t(i){"use strict";e(p)(this,t),Object.defineProperty(this,"pageX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"pageY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientX",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"clientY",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"id",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"time",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"nativePointer",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.nativePointer=i,this.pageX=i.pageX,this.pageY=i.pageY,this.clientX=i.clientX,this.clientY=i.clientY,this.id=self.Touch&&i instanceof Touch?i.identifier:-1,this.time=Date.now()},J={passive:!1},$=function(){"use strict";function t(i,n){var a=n.start,o=void 0===a?function(){return!0}:a,r=n.move,s=void 0===r?function(){}:r,l=n.end,c=void 0===l?function(){}:l;e(p)(this,t),Object.defineProperty(this,"element",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"startCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"moveCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"endCallback",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"currentPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(this,"startPointers",{enumerable:!0,configurable:!0,writable:!0,value:[]}),this.element=i,this.startCallback=o,this.moveCallback=s,this.endCallback=c;var u=!0,h=!1,d=void 0;try{for(var f,v=["onPointerStart","onTouchStart","onMove","onTouchEnd","onPointerEnd","onWindowBlur"][Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var m=f.value;this[m]=this[m].bind(this)}}catch(e){h=!0,d=e}finally{try{u||null==v.return||v.return()}finally{if(h)throw d}}this.element.addEventListener("mousedown",this.onPointerStart,J),this.element.addEventListener("touchstart",this.onTouchStart,J),this.element.addEventListener("touchmove",this.onMove,J),this.element.addEventListener("touchend",this.onTouchEnd),this.element.addEventListener("touchcancel",this.onTouchEnd)}return e(m)(t,[{key:"onPointerStart",value:function(e){if(e.buttons&&0===e.button){var t=new K(e);this.currentPointers.some((function(e){return e.id===t.id}))||this.triggerPointerStart(t,e)&&(window.addEventListener("mousemove",this.onMove),window.addEventListener("mouseup",this.onPointerEnd),window.addEventListener("blur",this.onWindowBlur))}}},{key:"onTouchStart",value:function(e){var t=!0,i=!1,n=void 0;try{for(var a,o=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var r=a.value;this.triggerPointerStart(new K(r),e)}}catch(e){i=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}window.addEventListener("blur",this.onWindowBlur)}},{key:"onMove",value:function(e){var t=this.currentPointers.slice(),i="changedTouches"in e?Array.from(e.changedTouches||[]).map((function(e){return new K(e)})):[new K(e)],n=[],a=!0,o=!1,r=void 0;try{for(var s,l=this,c=function(e,t){var i=t.value,a=l.currentPointers.findIndex((function(e){return e.id===i.id}));a<0||(n.push(i),l.currentPointers[a]=i)},u=i[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)c(0,s)}catch(e){o=!0,r=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw r}}n.length&&this.moveCallback(e,this.currentPointers.slice(),t)}},{key:"onPointerEnd",value:function(e){e.buttons>0&&0!==e.button||(this.triggerPointerEnd(e,new K(e)),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur))}},{key:"onTouchEnd",value:function(e){var t=!0,i=!1,n=void 0;try{for(var a,o=Array.from(e.changedTouches||[])[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var r=a.value;this.triggerPointerEnd(e,new K(r))}}catch(e){i=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}}},{key:"triggerPointerStart",value:function(e,t){return!!this.startCallback(t,e,this.currentPointers.slice())&&(this.currentPointers.push(e),this.startPointers.push(e),!0)}},{key:"triggerPointerEnd",value:function(e,t){var i=this.currentPointers.findIndex((function(e){return e.id===t.id}));i<0||(this.currentPointers.splice(i,1),this.startPointers.splice(i,1),this.endCallback(e,t,this.currentPointers.slice()))}},{key:"onWindowBlur",value:function(){this.clear()}},{key:"clear",value:function(){for(;this.currentPointers.length;){var e=this.currentPointers[this.currentPointers.length-1];this.currentPointers.splice(this.currentPointers.length-1,1),this.startPointers.splice(this.currentPointers.length-1,1),this.endCallback(new Event("touchend",{bubbles:!0,cancelable:!0,clientX:e.clientX,clientY:e.clientY}),e,this.currentPointers.slice())}}},{key:"stop",value:function(){this.element.removeEventListener("mousedown",this.onPointerStart,J),this.element.removeEventListener("touchstart",this.onTouchStart,J),this.element.removeEventListener("touchmove",this.onMove,J),this.element.removeEventListener("touchend",this.onTouchEnd),this.element.removeEventListener("touchcancel",this.onTouchEnd),window.removeEventListener("mousemove",this.onMove),window.removeEventListener("mouseup",this.onPointerEnd),window.removeEventListener("blur",this.onWindowBlur)}}]),t}();function Q(e,t){return t?Math.sqrt(Math.pow(t.clientX-e.clientX,2)+Math.pow(t.clientY-e.clientY,2)):0}function ee(e,t){return t?{clientX:(e.clientX+t.clientX)/2,clientY:(e.clientY+t.clientY)/2}:e}var te=function(e){return"object"==typeof e&&null!==e&&e.constructor===Object&&"[object Object]"===Object.prototype.toString.call(e)},ie=function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];for(var o=n.length,r=0;r<o;r++){var s=n[r]||{};Object.entries(s).forEach((function(i){var n=e(O)(i,2),a=n[0],o=n[1],r=Array.isArray(o)?[]:{};t[a]||Object.assign(t,e(y)({},a,r)),te(o)?Object.assign(t[a],ie(r,o)):Array.isArray(o)?Object.assign(t,e(y)({},a,e(z)(o))):Object.assign(t,e(y)({},a,o))}))}return t},ne=function(e,t){return e.split(".").reduce((function(e,t){return"object"==typeof e?e[t]:void 0}),t)},ae=function(){"use strict";function t(){var i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e(p)(this,t),Object.defineProperty(this,"options",{enumerable:!0,configurable:!0,writable:!0,value:i}),Object.defineProperty(this,"events",{enumerable:!0,configurable:!0,writable:!0,value:new Map}),this.setOptions(i);var n=!0,a=!1,o=void 0;try{for(var r,s=Object.getOwnPropertyNames(Object.getPrototypeOf(this))[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;l.startsWith("on")&&"function"==typeof this[l]&&(this[l]=this[l].bind(this))}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}}return e(m)(t,[{key:"setOptions",value:function(t){this.options=t?ie({},this.constructor.defaults,t):{};var i=!0,n=!1,a=void 0;try{for(var o,r=Object.entries(this.option("on")||{})[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=e(O)(o.value,2),l=s[0],c=s[1];this.on(l,c)}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}}},{key:"option",value:function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var o,r=ne(t,this.options);return r&&"function"==typeof r&&(r=(o=r).call.apply(o,[this,this].concat(e(z)(n)))),r}},{key:"optionFor",value:function(t,i,n){for(var a=arguments.length,o=new Array(a>3?a-3:0),r=3;r<a;r++)o[r-3]=arguments[r];var s,l,c,u=ne(i,t);"string"!=typeof(c=u)||isNaN(c)||isNaN(parseFloat(c))||(u=parseFloat(u)),"true"===u&&(u=!0),"false"===u&&(u=!1),u&&"function"==typeof u&&(u=(s=u).call.apply(s,[this,this,t].concat(e(z)(o))));var h=ne(i,this.options);return h&&"function"==typeof h?u=(l=h).call.apply(l,[this,this,t].concat(e(z)(o),[u])):void 0===u&&(u=h),void 0===u?n:u}},{key:"cn",value:function(e){var t=this.options.classes;return t&&t[e]||""}},{key:"localize",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],i=this;e=String(e).replace(/\{\{(\w+).?(\w+)?\}\}/g,(function(e,t,n){var a="";return n?a=i.option("".concat(t[0]+t.toLowerCase().substring(1),".l10n.").concat(n)):t&&(a=i.option("l10n.".concat(t))),a||(a=e),a}));for(var n=0;n<t.length;n++)e=e.split(t[n][0]).join(t[n][1]);return e.replace(/\{\{(.*?)\}\}/g,(function(e,t){return t}))}},{key:"on",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),this.events||(this.events=new Map),n.forEach((function(e){var n=i.events.get(e);n||(i.events.set(e,[]),n=[]),n.includes(t)||n.push(t),i.events.set(e,n)}))}},{key:"off",value:function(e,t){var i=this,n=[];"string"==typeof e?n=e.split(" "):Array.isArray(e)&&(n=e),n.forEach((function(e){var n=i.events.get(e);if(Array.isArray(n)){var a=n.indexOf(t);a>-1&&n.splice(a,1)}}))}},{key:"emit",value:function(t){for(var i=arguments.length,n=new Array(i>1?i-1:0),a=1;a<i;a++)n[a-1]=arguments[a];var o=this;e(z)(this.events.get(t)||[]).forEach((function(t){return t.apply(void 0,[o].concat(e(z)(n)))})),"*"!==t&&this.emit.apply(this,["*",t].concat(e(z)(n)))}}]),t}();Object.defineProperty(ae,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.16"}),Object.defineProperty(ae,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}});var oe,re,se=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e(p)(this,n),t=i.call(this,a),Object.defineProperty(e(v)(t),"plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),e(M)(t)}return e(m)(n,[{key:"attachPlugins",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=new Map,n=!0,a=!1,o=void 0;try{for(var r,s=Object.entries(t)[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=e(O)(r.value,2),c=l[0],u=l[1],h=this.option(c),d=this.plugins[c];d||!1===h?d&&!1===h&&(d.detach(),delete this.plugins[c]):i.set(c,new u(this,h||{}))}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}var f=!0,v=!1,p=void 0;try{for(var m,g=i[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var y=e(O)(m.value,2),b=y[0],w=y[1];this.plugins[b]=w,w.attach()}}catch(e){v=!0,p=e}finally{try{f||null==g.return||g.return()}finally{if(v)throw p}}this.emit("attachPlugins")}},{key:"detachPlugins",value:function(e){e=e||Object.keys(this.plugins);var t=!0,i=!1,n=void 0;try{for(var a,o=e[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var r=a.value,s=this.plugins[r];s&&s.detach(),delete this.plugins[r]}}catch(e){i=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}return this.emit("detachPlugins"),this}}]),n}(ae);(re=oe||(oe={}))[re.Init=0]="Init",re[re.Error=1]="Error",re[re.Ready=2]="Ready",re[re.Panning=3]="Panning",re[re.Mousemove=4]="Mousemove",re[re.Destroy=5]="Destroy";var le=["a","b","c","d","e","f"],ce={PANUP:"Move up",PANDOWN:"Move down",PANLEFT:"Move left",PANRIGHT:"Move right",ZOOMIN:"Zoom in",ZOOMOUT:"Zoom out",TOGGLEZOOM:"Toggle zoom level",TOGGLE1TO1:"Toggle zoom level",ITERATEZOOM:"Toggle zoom level",ROTATECCW:"Rotate counterclockwise",ROTATECW:"Rotate clockwise",FLIPX:"Flip horizontally",FLIPY:"Flip vertically",FITX:"Fit horizontally",FITY:"Fit vertically",RESET:"Reset",TOGGLEFS:"Toggle fullscreen"},ue={content:null,width:"auto",height:"auto",panMode:"drag",touch:!0,dragMinThreshold:3,lockAxis:!1,mouseMoveFactor:1,mouseMoveFriction:.12,zoom:!0,pinchToZoom:!0,panOnlyZoomed:"auto",minScale:1,maxScale:2,friction:.25,dragFriction:.35,decelFriction:.05,click:"toggleZoom",dblClick:!1,wheel:"zoom",wheelLimit:7,spinner:!0,bounds:"auto",infinite:!1,rubberband:!0,bounce:!0,maxVelocity:75,transformParent:!1,classes:{content:"f-panzoom__content",isLoading:"is-loading",canZoomIn:"can-zoom_in",canZoomOut:"can-zoom_out",isDraggable:"is-draggable",isDragging:"is-dragging",inFullscreen:"in-fullscreen",htmlHasFullscreen:"with-panzoom-in-fullscreen"},l10n:ce},he='<div class="f-spinner"><svg viewBox="0 0 50 50"><circle cx="25" cy="25" r="20"></circle><circle cx="25" cy="25" r="20"></circle></svg></div>',de=function(e){return e&&null!==e&&e instanceof Element&&"nodeType"in e},fe=function(e,t){e&&Z(t).forEach((function(t){e.classList.remove(t)}))},ve=function(e,t){e&&Z(t).forEach((function(t){e.classList.add(t)}))},pe={a:1,b:0,c:0,d:1,e:0,f:0},me=null,ge=null,ye=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(t){var a,o,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e(p)(this,n),a=i.call(this,r),Object.defineProperty(e(v)(a),"pointerTracker",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"resizeObserver",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"updateTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"rAF",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"isTicking",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(a),"friction",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(a),"ignoreBounds",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(a),"isBouncingX",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(a),"isBouncingY",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(a),"clicks",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(a),"trackingPoints",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(v)(a),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(a),"cwd",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(a),"pmme",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(v)(a),"state",{enumerable:!0,configurable:!0,writable:!0,value:oe.Init}),Object.defineProperty(e(v)(a),"isDragging",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(a),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(v)(a),"content",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(v)(a),"spinner",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"containerRect",{enumerable:!0,configurable:!0,writable:!0,value:{width:0,height:0,innerWidth:0,innerHeight:0}}),Object.defineProperty(e(v)(a),"contentRect",{enumerable:!0,configurable:!0,writable:!0,value:{top:0,right:0,bottom:0,left:0,fullWidth:0,fullHeight:0,fitWidth:0,fitHeight:0,width:0,height:0}}),Object.defineProperty(e(v)(a),"dragStart",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,top:0,left:0,time:0}}),Object.defineProperty(e(v)(a),"dragOffset",{enumerable:!0,configurable:!0,writable:!0,value:{x:0,y:0,time:0}}),Object.defineProperty(e(v)(a),"current",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},pe)}),Object.defineProperty(e(v)(a),"target",{enumerable:!0,configurable:!0,writable:!0,value:Object.assign({},pe)}),Object.defineProperty(e(v)(a),"velocity",{enumerable:!0,configurable:!0,writable:!0,value:{a:0,b:0,c:0,d:0,e:0,f:0}}),Object.defineProperty(e(v)(a),"lockedAxis",{enumerable:!0,configurable:!0,writable:!0,value:!1}),!t)throw new Error("Container Element Not Found");a.container=t,a.initContent(),a.attachPlugins(Object.assign(Object.assign({},n.Plugins),s)),a.emit("init");var l=a.content;if(l.addEventListener("load",a.onLoad),l.addEventListener("error",a.onError),a.isContentLoading){if(a.option("spinner")){t.classList.add(a.cn("isLoading"));var c=G(he);!t.contains(l)||l.parentElement instanceof HTMLPictureElement?a.spinner=t.appendChild(c):a.spinner=(null===(o=l.parentElement)||void 0===o?void 0:o.insertBefore(c,l))||null}a.emit("beforeLoad")}else queueMicrotask((function(){a.enable()}));return e(M)(a)}return e(m)(n,[{key:"isTouchDevice",get:function(){return null===ge&&(ge=window.matchMedia("(hover: none)").matches),ge}},{key:"isMobile",get:function(){return null===me&&(me=/iPhone|iPad|iPod|Android/i.test(navigator.userAgent)),me}},{key:"panMode",get:function(){return"mousemove"!==this.options.panMode||this.isTouchDevice?"drag":"mousemove"}},{key:"panOnlyZoomed",get:function(){var e=this.options.panOnlyZoomed;return"auto"===e?this.isTouchDevice:e}},{key:"isInfinite",get:function(){return this.option("infinite")}},{key:"angle",get:function(){return 180*Math.atan2(this.current.b,this.current.a)/Math.PI||0}},{key:"targetAngle",get:function(){return 180*Math.atan2(this.target.b,this.target.a)/Math.PI||0}},{key:"scale",get:function(){var e=this.current,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"targetScale",get:function(){var e=this.target,t=e.a,i=e.b;return Math.sqrt(t*t+i*i)||1}},{key:"minScale",get:function(){return this.option("minScale")||1}},{key:"fullScale",get:function(){var e=this.contentRect;return e.fullWidth/e.fitWidth||1}},{key:"maxScale",get:function(){return this.fullScale*(this.option("maxScale")||1)||1}},{key:"coverScale",get:function(){var e=this.containerRect,t=this.contentRect,i=Math.max(e.height/t.fitHeight,e.width/t.fitWidth)||1;return Math.min(this.fullScale,i)}},{key:"isScaling",get:function(){return Math.abs(this.targetScale-this.scale)>1e-5&&!this.isResting}},{key:"isContentLoading",get:function(){var e=this.content;return!!(e&&e instanceof HTMLImageElement)&&!e.complete}},{key:"isResting",get:function(){if(this.isBouncingX||this.isBouncingY)return!1;var e=!0,t=!1,i=void 0;try{for(var n,a=le[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value,r="e"==o||"f"===o?.001:1e-5;if(Math.abs(this.target[o]-this.current[o])>r)return!1}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}return!(!this.ignoreBounds&&!this.checkBounds().inBounds)}},{key:"initContent",value:function(){var e=this.container,t=this.cn("content"),i=this.option("content")||e.querySelector(".".concat(t));if(i||(i=e.querySelector("img,picture")||e.firstElementChild)&&ve(i,t),i instanceof HTMLPictureElement&&(i=i.querySelector("img")),!i)throw new Error("No content found");this.content=i}},{key:"onLoad",value:function(){this.spinner&&(this.spinner.remove(),this.spinner=null),this.option("spinner")&&this.container.classList.remove(this.cn("isLoading")),this.emit("afterLoad"),this.state===oe.Init?this.enable():this.updateMetrics()}},{key:"onError",value:function(){this.state!==oe.Destroy&&(this.spinner&&(this.spinner.remove(),this.spinner=null),this.stop(),this.detachEvents(),this.state=oe.Error,this.emit("error"))}},{key:"attachObserver",value:function(){var e,t=this,i=function(){return Math.abs(t.containerRect.width-t.container.getBoundingClientRect().width)>.1||Math.abs(t.containerRect.height-t.container.getBoundingClientRect().height)>.1};this.resizeObserver||void 0===window.ResizeObserver||(this.resizeObserver=new ResizeObserver((function(){var e=t;t.updateTimer||(i()?(t.onResize(),t.isMobile&&(t.updateTimer=setTimeout((function(){i()&&e.onResize(),e.updateTimer=null}),500))):t.updateTimer&&(clearTimeout(t.updateTimer),t.updateTimer=null))}))),null===(e=this.resizeObserver)||void 0===e||e.observe(this.container)}},{key:"detachObserver",value:function(){var e;null===(e=this.resizeObserver)||void 0===e||e.disconnect()}},{key:"attachEvents",value:function(){var e=this.container;e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1}),this.pointerTracker=new $(e,{start:this.onPointerDown,move:this.onPointerMove,end:this.onPointerUp}),document.addEventListener("mousemove",this.onMouseMove)}},{key:"detachEvents",value:function(){var e,t=this.container;t.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),t.removeEventListener("wheel",this.onWheel,{passive:!1}),null===(e=this.pointerTracker)||void 0===e||e.stop(),this.pointerTracker=null,document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("keydown",this.onKeydown,!0),this.clickTimer&&(clearTimeout(this.clickTimer),this.clickTimer=null),this.updateTimer&&(clearTimeout(this.updateTimer),this.updateTimer=null)}},{key:"animate",value:function(){var e=this,t=this.friction;this.setTargetForce();var i=this.option("maxVelocity"),n=!0,a=!1,o=void 0;try{for(var r,s=le[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;t?(this.velocity[l]*=1-t,i&&!this.isScaling&&(this.velocity[l]=Math.max(Math.min(this.velocity[l],i),-1*i)),this.current[l]+=this.velocity[l]):this.current[l]=this.target[l]}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}this.setTransform(),this.setEdgeForce(),!this.isResting||this.isDragging?this.rAF=requestAnimationFrame((function(){return e.animate()})):this.stop("current")}},{key:"setTargetForce",value:function(){var e=!0,t=!1,i=void 0;try{for(var n,a=le[Symbol.iterator]();!(e=(n=a.next()).done);e=!0){var o=n.value;"e"===o&&this.isBouncingX||"f"===o&&this.isBouncingY||(this.velocity[o]=(1/(1-this.friction)-1)*(this.target[o]-this.current[o]))}}catch(e){t=!0,i=e}finally{try{e||null==a.return||a.return()}finally{if(t)throw i}}}},{key:"checkBounds",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this,n=i.current,a=n.e+e,o=n.f+t,r=this.getBounds(),s=r.x,l=r.y,c=s.min,u=s.max,h=l.min,d=l.max,f=0,v=0;return c!==1/0&&a<c?f=c-a:u!==1/0&&a>u&&(f=u-a),h!==1/0&&o<h?v=h-o:d!==1/0&&o>d&&(v=d-o),Math.abs(f)<.001&&(f=0),Math.abs(v)<.001&&(v=0),Object.assign(Object.assign({},r),{xDiff:f,yDiff:v,inBounds:!f&&!v})}},{key:"clampTargetBounds",value:function(){var e=this.target,t=this.getBounds(),i=t.x,n=t.y;i.min!==1/0&&(e.e=Math.max(e.e,i.min)),i.max!==1/0&&(e.e=Math.min(e.e,i.max)),n.min!==1/0&&(e.f=Math.max(e.f,n.min)),n.max!==1/0&&(e.f=Math.min(e.f,n.max))}},{key:"calculateContentDim",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=this,i=t.content,n=t.contentRect,a=n.fitWidth,o=n.fitHeight,r=n.fullWidth,s=n.fullHeight,l=r,c=s;if(this.option("zoom")||0!==this.angle){var u=!(i instanceof HTMLImageElement||"none"!==window.getComputedStyle(i).maxWidth&&"none"!==window.getComputedStyle(i).maxHeight),h=u?r:a,d=u?s:o,f=this.getMatrix(e),v=new DOMPoint(0,0).matrixTransform(f),p=new DOMPoint(0+h,0).matrixTransform(f),m=new DOMPoint(0+h,0+d).matrixTransform(f),g=new DOMPoint(0,0+d).matrixTransform(f),y=Math.abs(m.x-v.x),b=Math.abs(m.y-v.y),w=Math.abs(g.x-p.x),x=Math.abs(g.y-p.y);l=Math.max(y,w),c=Math.max(b,x)}return{contentWidth:l,contentHeight:c}}},{key:"setEdgeForce",value:function(){if(this.ignoreBounds||this.isDragging||"mousemove"===this.panMode||this.targetScale<this.scale)return this.isBouncingX=!1,void(this.isBouncingY=!1);var e=this.target,t=this.checkBounds(),i=t.x,n=t.y,a=t.xDiff,o=t.yDiff,r=this.option("maxVelocity"),s=this.velocity.e,l=this.velocity.f;0!==a?(this.isBouncingX=!0,a*s<=0?s+=.14*a:(s=.14*a,i.min!==1/0&&(this.target.e=Math.max(e.e,i.min)),i.max!==1/0&&(this.target.e=Math.min(e.e,i.max))),r&&(s=Math.max(Math.min(s,r),-1*r))):this.isBouncingX=!1,0!==o?(this.isBouncingY=!0,o*l<=0?l+=.14*o:(l=.14*o,n.min!==1/0&&(this.target.f=Math.max(e.f,n.min)),n.max!==1/0&&(this.target.f=Math.min(e.f,n.max))),r&&(l=Math.max(Math.min(l,r),-1*r))):this.isBouncingY=!1,this.isBouncingX&&(this.velocity.e=s),this.isBouncingY&&(this.velocity.f=l)}},{key:"enable",value:function(){var e=this.content,t=new DOMMatrixReadOnly(window.getComputedStyle(e).transform),i=!0,n=!1,a=void 0;try{for(var o,r=le[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value;this.current[s]=this.target[s]=t[s]}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}this.updateMetrics(),this.attachObserver(),this.attachEvents(),this.state=oe.Ready,this.emit("ready")}},{key:"onClick",value:function(e){var t,i=this;this.isDragging&&(null===(t=this.pointerTracker)||void 0===t||t.clear(),this.trackingPoints=[],this.startDecelAnim());var n=e.target;if(n&&!e.defaultPrevented){if(n&&n.hasAttribute("disabled"))return e.preventDefault(),void e.stopPropagation();if(!(a=window.getSelection())||"Range"!==a.type||n.closest("button")){var a,o=n.closest("[data-panzoom-action]"),r=n.closest("[data-panzoom-change]"),s=o||r,l=s&&de(s)?s.dataset:null;if(l){var c=l.panzoomChange,u=l.panzoomAction;if((c||u)&&e.preventDefault(),c){var h={};try{h=JSON.parse(c)}catch(e){console&&console.warn("The given data was not valid JSON")}return void this.applyChange(h)}if(u)return void(this[u]&&this[u]())}if(Math.abs(this.dragOffset.x)>3||Math.abs(this.dragOffset.y)>3)return e.preventDefault(),void e.stopPropagation();var d=this.content.getBoundingClientRect();if(!this.dragStart.time||this.canZoomOut()||!(Math.abs(d.x-this.dragStart.x)>2||Math.abs(d.y-this.dragStart.y)>2)){this.dragStart.time=0;var f=function(t){i.option("zoom")&&t&&"string"==typeof t&&/(iterateZoom)|(toggle(Zoom|Full|Cover|Max)|(zoomTo(Fit|Cover|Max)))/.test(t)&&"function"==typeof i[t]&&(e.preventDefault(),i[t]({event:e}))},v=this.option("click",e),p=this.option("dblClick",e);p?(this.clicks++,1==this.clicks&&(this.clickTimer=setTimeout((function(){1===i.clicks?(i.emit("click",e),!e.defaultPrevented&&v&&f(v)):(i.emit("dblClick",e),e.defaultPrevented||f(p)),i.clicks=0,i.clickTimer=null}),350))):(this.emit("click",e),!e.defaultPrevented&&v&&f(v))}}}}},{key:"addTrackingPoint",value:function(e){var t=this.trackingPoints.filter((function(e){return e.time>Date.now()-100}));t.push(e),this.trackingPoints=t}},{key:"onPointerDown",value:function(e,t,i){var n;this.pwt=0,this.dragOffset={x:0,y:0,time:0},this.trackingPoints=[];var a=this.content.getBoundingClientRect();if(this.dragStart={x:a.x,y:a.y,top:a.top,left:a.left,time:Date.now()},this.clickTimer)return!1;if("mousemove"===this.panMode&&this.targetScale>1)return e.preventDefault(),e.stopPropagation(),!1;if(!i.length){var o=e.composedPath()[0];if(["A","TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].includes(o.nodeName)||o.closest("[contenteditable]")||o.closest("[data-selectable]")||o.closest("[data-panzoom-change]")||o.closest("[data-panzoom-action]"))return!1;null===(n=window.getSelection())||void 0===n||n.removeAllRanges()}if("mousedown"===e.type)e.preventDefault();else if(Math.abs(this.velocity.a)>.3)return!1;return this.target.e=this.current.e,this.target.f=this.current.f,this.stop(),this.isDragging||(this.isDragging=!0,this.addTrackingPoint(t),this.emit("touchStart",e)),!0}},{key:"onPointerMove",value:function(e,t,i){if(!1!==this.option("touch",e)&&this.isDragging&&!(t.length<2&&this.panOnlyZoomed&&X(this.targetScale)<=X(this.minScale)||(this.emit("touchMove",e),e.defaultPrevented))){this.addTrackingPoint(t[0]);var n=this.content,a=ee(i[0],i[1]),o=ee(t[0],t[1]),r=0,s=0;if(t.length>1){var l=n.getBoundingClientRect();r=a.clientX-l.left-.5*l.width,s=a.clientY-l.top-.5*l.height}var c=Q(i[0],i[1]),u=Q(t[0],t[1]),h=c?u/c:1,d=o.clientX-a.clientX,f=o.clientY-a.clientY;this.dragOffset.x+=d,this.dragOffset.y+=f,this.dragOffset.time=Date.now()-this.dragStart.time;var v=X(this.targetScale)===X(this.minScale)&&this.option("lockAxis");if(v&&!this.lockedAxis)if("xy"===v||"y"===v||"touchmove"===e.type){if(Math.abs(this.dragOffset.x)<6&&Math.abs(this.dragOffset.y)<6)return void e.preventDefault();var p=Math.abs(180*Math.atan2(this.dragOffset.y,this.dragOffset.x)/Math.PI);this.lockedAxis=p>45&&p<135?"y":"x",this.dragOffset.x=0,this.dragOffset.y=0,d=0,f=0}else this.lockedAxis=v;if(V(e.target,this.content)&&(v="x",this.dragOffset.y=0),!v||"xy"===v||this.lockedAxis===v||X(this.targetScale)!==X(this.minScale)){e.cancelable&&e.preventDefault(),this.container.classList.add(this.cn("isDragging"));var m=this.checkBounds(d,f);this.option("rubberband")?("x"!==this.isInfinite&&(m.xDiff>0&&d<0||m.xDiff<0&&d>0)&&(d*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitWidth*m.xDiff))),"y"!==this.isInfinite&&(m.yDiff>0&&f<0||m.yDiff<0&&f>0)&&(f*=Math.max(0,.5-Math.abs(.75/this.contentRect.fitHeight*m.yDiff)))):(m.xDiff&&(d=0),m.yDiff&&(f=0));var g=this.targetScale,y=this.minScale,b=this.maxScale;g<.5*y&&(h=Math.max(h,y)),g>1.5*b&&(h=Math.min(h,b)),"y"===this.lockedAxis&&X(g)===X(y)&&(d=0),"x"===this.lockedAxis&&X(g)===X(y)&&(f=0),this.applyChange({originX:r,originY:s,panX:d,panY:f,scale:h,friction:this.option("dragFriction"),ignoreBounds:!0})}}}},{key:"onPointerUp",value:function(e,t,i){if(i.length)return this.dragOffset.x=0,this.dragOffset.y=0,void(this.trackingPoints=[]);this.container.classList.remove(this.cn("isDragging")),this.isDragging&&(this.addTrackingPoint(t),this.panOnlyZoomed&&this.contentRect.width-this.contentRect.fitWidth<1&&this.contentRect.height-this.contentRect.fitHeight<1&&(this.trackingPoints=[]),V(e.target,this.content)&&"y"===this.lockedAxis&&(this.trackingPoints=[]),this.emit("touchEnd",e),this.isDragging=!1,this.lockedAxis=!1,this.state!==oe.Destroy&&(e.defaultPrevented||this.startDecelAnim()))}},{key:"startDecelAnim",value:function(){var e=this.isScaling;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var t=!0,i=!1,n=void 0;try{for(var a,o=le[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var r=a.value;this.velocity[r]=0}}catch(e){i=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}this.target.e=this.current.e,this.target.f=this.current.f,fe(this.container,"is-scaling"),fe(this.container,"is-animating"),this.isTicking=!1;var s=this.trackingPoints,l=s[0],c=s[s.length-1],u=0,h=0,d=0;c&&l&&(u=c.clientX-l.clientX,h=c.clientY-l.clientY,d=c.time-l.time);var f=0,v=0,p=0,m=0,g=this.option("decelFriction"),y=this.targetScale;if(d>0){p=Math.abs(u)>3?u/(d/30):0,m=Math.abs(h)>3?h/(d/30):0;var b=this.option("maxVelocity");b&&(p=Math.max(Math.min(p,b),-1*b),m=Math.max(Math.min(m,b),-1*b))}p&&(f=p/(1/(1-g)-1)),m&&(v=m/(1/(1-g)-1)),("y"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"y"===this.lockedAxis&&X(y)===this.minScale)&&(f=p=0),("x"===this.option("lockAxis")||"xy"===this.option("lockAxis")&&"x"===this.lockedAxis&&X(y)===this.minScale)&&(v=m=0);var w=this.dragOffset.x,x=this.dragOffset.y,k=this.option("dragMinThreshold")||0;Math.abs(w)<k&&Math.abs(x)<k&&(f=v=0,p=m=0),(y<this.minScale-1e-5||y>this.maxScale+1e-5||e&&!f&&!v)&&(g=.35),this.applyChange({panX:f,panY:v,friction:g}),this.emit("decel",p,m,w,x)}},{key:"onWheel",value:function(e){var t=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),i=Math.max(-1,Math.min(1,t));if(this.emit("wheel",e,i),"mousemove"!==this.panMode&&!e.defaultPrevented){var n=this.option("wheel");"pan"===n?(e.preventDefault(),this.panOnlyZoomed&&!this.canZoomOut()||this.applyChange({panX:2*-e.deltaX,panY:2*-e.deltaY,bounce:!1})):"zoom"===n&&!1!==this.option("zoom")&&this.zoomWithWheel(e)}}},{key:"onMouseMove",value:function(e){this.panWithMouse(e)}},{key:"onKeydown",value:function(e){"Escape"===e.key&&this.toggleFS()}},{key:"onResize",value:function(){this.updateMetrics(),this.checkBounds().inBounds||this.requestTick()}},{key:"setTransform",value:function(){this.emit("beforeTransform");var e=this,t=e.current,i=e.target,n=e.content,a=e.contentRect,o=Object.assign({},pe),r=!0,s=!1,l=void 0;try{for(var c,u=le[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var h=c.value,d="e"==h||"f"===h?1e3:1e5;o[h]=X(t[h],d),Math.abs(i[h]-t[h])<("e"==h||"f"===h?.51:.001)&&(t[h]=i[h])}}catch(e){s=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(s)throw l}}var f=o.a,v=o.b,p=o.c,m=o.d,g=o.e,y=o.f,b="matrix(".concat(f,", ").concat(v,", ").concat(p,", ").concat(m,", ").concat(g,", ").concat(y,")"),w=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;if(this.option("transformParent")&&(w=w.parentElement||w),w.style.transform!==b){w.style.transform=b;var x=this.calculateContentDim(),k=x.contentWidth,S=x.contentHeight;a.width=k,a.height=S,this.emit("afterTransform")}}},{key:"updateMetrics",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this&&this.state!==oe.Destroy&&!this.isContentLoading){var t=this,i=t.container,n=t.content,a=n instanceof HTMLImageElement,o=i.getBoundingClientRect(),r=getComputedStyle(this.container),s=o.width,l=o.height,c=parseFloat(r.paddingTop)+parseFloat(r.paddingBottom),u=s-(parseFloat(r.paddingLeft)+parseFloat(r.paddingRight)),h=l-c;this.containerRect={width:s,height:l,innerWidth:u,innerHeight:h};var d,f,v=this.option("width")||"auto",p=this.option("height")||"auto";"auto"===v&&(v=parseFloat(n.dataset.width||"")||(((f=n)instanceof HTMLImageElement?f.naturalWidth:f instanceof SVGElement?f.width.baseVal.value:Math.max(f.offsetWidth,f.scrollWidth))||0)),"auto"===p&&(p=parseFloat(n.dataset.height||"")||(((d=n)instanceof HTMLImageElement?d.naturalHeight:d instanceof SVGElement?d.height.baseVal.value:Math.max(d.offsetHeight,d.scrollHeight))||0));var m=n.parentElement instanceof HTMLPictureElement?n.parentElement:n;this.option("transformParent")&&(m=m.parentElement||m);var g=m.getAttribute("style")||"";m.style.setProperty("transform","none","important"),a&&(m.style.width="",m.style.height=""),m.offsetHeight;var y,b,w,x,k,S,E=n.getBoundingClientRect(),P=E.width,M=E.height,O=0,T=0;a&&(Math.abs(v-P)>1||Math.abs(p-M)>1)&&((S=(x=v)/(k=p))>(b=P)/(w=M)?(x=b,k=b/S):(x=w*S,k=w),P=(y={width:x,height:k,top:.5*(w-k),left:.5*(b-x)}).width,M=y.height,O=y.top,T=y.left),this.contentRect=Object.assign(Object.assign({},this.contentRect),{top:E.top-o.top+O,bottom:o.bottom-E.bottom+O,left:E.left-o.left+T,right:o.right-E.right+T,fitWidth:P,fitHeight:M,width:P,height:M,fullWidth:v,fullHeight:p}),m.style.cssText=g,a&&(m.style.width="".concat(P,"px"),m.style.height="".concat(M,"px")),this.setTransform(),!0!==e&&this.emit("refresh"),this.ignoreBounds||(X(this.targetScale)<X(this.minScale)?this.zoomTo(this.minScale,{friction:0}):this.targetScale>this.maxScale?this.zoomTo(this.maxScale,{friction:0}):this.state===oe.Init||this.checkBounds().inBounds||this.requestTick()),this.updateControls()}}},{key:"getBounds",value:function(){var e=this.option("bounds");if("auto"!==e)return e;var t=this.calculateContentDim(this.target),i=t.contentWidth,n=t.contentHeight,a=0,o=0,r=0,s=0,l=this.option("infinite");if(!0===l||this.lockedAxis&&l===this.lockedAxis)a=-1/0,r=1/0,o=-1/0,s=1/0;else{var c=this.containerRect,u=this.contentRect,h=X(this.contentRect.fitWidth*this.targetScale,1e3),d=X(this.contentRect.fitHeight*this.targetScale,1e3),f=c.innerWidth,v=c.innerHeight;if(this.containerRect.width===h&&(f=c.width),this.containerRect.width===d&&(v=c.height),i>f){a=-1*(r=.5*(i-f));var p=.5*(u.right-u.left);a+=p,r+=p}if(this.contentRect.fitWidth>f&&i<f&&(a-=.5*(this.contentRect.fitWidth-f),r-=.5*(this.contentRect.fitWidth-f)),n>v){o=-1*(s=.5*(n-v));var m=.5*(u.bottom-u.top);o+=m,s+=m}this.contentRect.fitHeight>v&&n<v&&(a-=.5*(this.contentRect.fitHeight-v),r-=.5*(this.contentRect.fitHeight-v))}return{x:{min:a,max:r},y:{min:o,max:s}}}},{key:"updateControls",value:function(){var e=this,t=e.container,i=e.panMode,n=e.contentRect,a=e.fullScale,o=e.targetScale,r=e.coverScale,s=e.maxScale,l=e.minScale,c={toggleMax:o-l<.5*(s-l)?s:l,toggleCover:o-l<.5*(r-l)?r:l,toggleZoom:o-l<.5*(a-l)?a:l}[e.option("click")||""]||l,u=e.canZoomIn(),h=e.canZoomOut(),d=h&&"drag"===i;X(o)<X(l)&&!this.panOnlyZoomed&&(d=!0),(X(n.width,1)>X(n.fitWidth,1)||X(n.height,1)>X(n.fitHeight,1))&&(d=!0),X(n.width*o,1)<X(n.fitWidth,1)&&(d=!1),"mousemove"===i&&(d=!1);var f=u&&X(c)>X(o),v=!f&&!d&&h&&X(c)<X(o);U(t,this.cn("canZoomIn"),f),U(t,this.cn("canZoomOut"),v),U(t,this.cn("isDraggable"),d);var p=!0,m=!1,g=void 0;try{for(var y,b=t.querySelectorAll('[data-panzoom-action="zoomIn"]')[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;u?(w.removeAttribute("disabled"),w.removeAttribute("tabindex")):(w.setAttribute("disabled",""),w.setAttribute("tabindex","-1"))}}catch(e){m=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw g}}var x=!0,k=!1,S=void 0;try{for(var E,P=t.querySelectorAll('[data-panzoom-action="zoomOut"]')[Symbol.iterator]();!(x=(E=P.next()).done);x=!0){var M=E.value;h?(M.removeAttribute("disabled"),M.removeAttribute("tabindex")):(M.setAttribute("disabled",""),M.setAttribute("tabindex","-1"))}}catch(e){k=!0,S=e}finally{try{x||null==P.return||P.return()}finally{if(k)throw S}}var O=!0,T=!1,C=void 0;try{for(var A,L=t.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')[Symbol.iterator]();!(O=(A=L.next()).done);O=!0){var _=A.value;u||h?(_.removeAttribute("disabled"),_.removeAttribute("tabindex")):(_.setAttribute("disabled",""),_.setAttribute("tabindex","-1"));var z=_.querySelector("g");z&&(z.style.display=u?"":"none")}}catch(e){T=!0,C=e}finally{try{O||null==L.return||L.return()}finally{if(T)throw C}}}},{key:"panTo",value:function(e){var t=e.x,i=void 0===t?this.target.e:t,n=e.y,a=void 0===n?this.target.f:n,o=e.scale,r=void 0===o?this.targetScale:o,s=e.friction,l=void 0===s?this.option("friction"):s,c=e.angle,u=void 0===c?0:c,h=e.originX,d=void 0===h?0:h,f=e.originY,v=void 0===f?0:f,p=e.flipX,m=void 0!==p&&p,g=e.flipY,y=void 0!==g&&g,b=e.ignoreBounds,w=void 0!==b&&b;this.state!==oe.Destroy&&this.applyChange({panX:i-this.target.e,panY:a-this.target.f,scale:r/this.targetScale,angle:u,originX:d,originY:v,friction:l,flipX:m,flipY:y,ignoreBounds:w})}},{key:"applyChange",value:function(e){var t=e.panX,i=void 0===t?0:t,n=e.panY,a=void 0===n?0:n,o=e.scale,r=void 0===o?1:o,s=e.angle,l=void 0===s?0:s,c=e.originX,u=void 0===c?-this.current.e:c,h=e.originY,d=void 0===h?-this.current.f:h,f=e.friction,v=void 0===f?this.option("friction"):f,p=e.flipX,m=void 0!==p&&p,g=e.flipY,y=void 0!==g&&g,b=e.ignoreBounds,w=void 0!==b&&b,x=e.bounce,k=void 0===x?this.option("bounce"):x;if(this.state!==oe.Destroy){this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.friction=v||0,this.ignoreBounds=w;var S=this.current,E=S.e,P=S.f,M=this.getMatrix(this.target),O=(new DOMMatrix).translate(E,P).translate(u,d).translate(i,a);if(this.option("zoom")){if(!w){var T=this.targetScale,C=this.minScale,A=this.maxScale;T*r<C&&(r=C/T),T*r>A&&(r=A/T)}O=O.scale(r)}O=O.translate(-u,-d).translate(-E,-P).multiply(M),l&&(O=O.rotate(l)),m&&(O=O.scale(-1,1)),y&&(O=O.scale(1,-1));var L=!0,_=!1,z=void 0;try{for(var R,I=le[Symbol.iterator]();!(L=(R=I.next()).done);L=!0){var j=R.value;"e"!==j&&"f"!==j&&(O[j]>this.minScale+1e-5||O[j]<this.minScale-1e-5)?this.target[j]=O[j]:this.target[j]=X(O[j],1e3)}}catch(e){_=!0,z=e}finally{try{L||null==I.return||I.return()}finally{if(_)throw z}}(this.targetScale<this.scale||Math.abs(r-1)>.1||"mousemove"===this.panMode||!1===k)&&!w&&this.clampTargetBounds(),this.isResting||(this.state=oe.Panning,this.requestTick())}}},{key:"stop",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.state!==oe.Init&&this.state!==oe.Destroy){var t=this.isTicking;this.rAF&&(cancelAnimationFrame(this.rAF),this.rAF=null),this.isBouncingX=!1,this.isBouncingY=!1;var i=!0,n=!1,a=void 0;try{for(var o,r=le[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value;this.velocity[s]=0,"current"===e?this.current[s]=this.target[s]:"target"===e&&(this.target[s]=this.current[s])}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}this.setTransform(),fe(this.container,"is-scaling"),fe(this.container,"is-animating"),this.isTicking=!1,this.state=oe.Ready,t&&(this.emit("endAnimation"),this.updateControls())}}},{key:"requestTick",value:function(){var e=this;this.isTicking||(this.emit("startAnimation"),this.updateControls(),ve(this.container,"is-animating"),this.isScaling&&ve(this.container,"is-scaling")),this.isTicking=!0,this.rAF||(this.rAF=requestAnimationFrame((function(){return e.animate()})))}},{key:"panWithMouse",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("mouseMoveFriction");if(this.pmme=e,"mousemove"===this.panMode&&e&&!(X(this.targetScale)<=X(this.minScale))){this.emit("mouseMove",e);var i=this,n=i.container,a=i.containerRect,o=i.contentRect,r=a.width,s=a.height,l=n.getBoundingClientRect(),c=(e.clientX||0)-l.left,u=(e.clientY||0)-l.top,h=this.calculateContentDim(this.target),d=h.contentWidth,f=h.contentHeight,v=this.option("mouseMoveFactor");v>1&&(d!==r&&(d*=v),f!==s&&(f*=v));var p=.5*(d-r)-c/r*100/100*(d-r);p+=.5*(o.right-o.left);var m=.5*(f-s)-u/s*100/100*(f-s);m+=.5*(o.bottom-o.top),this.applyChange({panX:p-this.target.e,panY:m-this.target.f,friction:t})}}},{key:"zoomWithWheel",value:function(e){if(this.state!==oe.Destroy&&this.state!==oe.Init){var t=Date.now();if(t-this.pwt<45)e.preventDefault();else{this.pwt=t;var i=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),n=Math.max(-1,Math.min(1,i)),a=this,o=a.targetScale,r=a.maxScale,s=a.minScale,l=o*(100+45*n)/100;X(l)<X(s)&&X(o)<=X(s)?(this.cwd+=Math.abs(n),l=s):X(l)>X(r)&&X(o)>=X(r)?(this.cwd+=Math.abs(n),l=r):(this.cwd=0,l=Math.max(Math.min(l,r),s)),this.cwd>this.option("wheelLimit")||(e.preventDefault(),X(l)!==X(o)&&this.zoomTo(l,{event:e}))}}}},{key:"canZoomIn",value:function(){return this.option("zoom")&&(X(this.contentRect.width,1)<X(this.contentRect.fitWidth,1)||X(this.targetScale)<X(this.maxScale))}},{key:"canZoomOut",value:function(){return this.option("zoom")&&X(this.targetScale)>X(this.minScale)}},{key:"zoomIn",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1.25,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomOut",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:.8,t=arguments.length>1?arguments[1]:void 0;this.zoomTo(this.targetScale*e,t)}},{key:"zoomToFit",value:function(e){this.zoomTo("fit",e)}},{key:"zoomToCover",value:function(e){this.zoomTo("cover",e)}},{key:"zoomToFull",value:function(e){this.zoomTo("full",e)}},{key:"zoomToMax",value:function(e){this.zoomTo("max",e)}},{key:"toggleZoom",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.fullScale-this.minScale)?"full":"fit",e)}},{key:"toggleMax",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.maxScale-this.minScale)?"max":"fit",e)}},{key:"toggleCover",value:function(e){this.zoomTo(this.targetScale-this.minScale<.5*(this.coverScale-this.minScale)?"cover":"fit",e)}},{key:"iterateZoom",value:function(e){this.zoomTo("next",e)}},{key:"zoomTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?"auto":i,a=t.originX,o=void 0===a?0:a,r=t.originY,s=void 0===r?0:r,l=t.event;if(!this.isContentLoading&&this.state!==oe.Destroy){var c=this,u=c.targetScale;this.stop();var h=1;if("mousemove"===this.panMode&&(l=this.pmme||l),l){var d=this.content.getBoundingClientRect(),f=l.clientX||0,v=l.clientY||0;o=f-d.left-.5*d.width,s=v-d.top-.5*d.height}var p=this.fullScale,m=this.maxScale,g=this.coverScale;"number"==typeof e?h=e/u:("next"===e&&(p-g<.2&&(g=p),e=u<p-1e-5?"full":u<m-1e-5?"max":"fit"),h="full"===e?p/u||1:"cover"===e?g/u||1:"max"===e?m/u||1:1/u||1),n="auto"===n?h>1?.15:.25:n,this.applyChange({scale:h,originX:o,originY:s,friction:n}),l&&"mousemove"===this.panMode&&this.panWithMouse(l,n)}}},{key:"rotateCCW",value:function(){this.applyChange({angle:-90})}},{key:"rotateCW",value:function(){this.applyChange({angle:90})}},{key:"flipX",value:function(){this.applyChange({flipX:!0})}},{key:"flipY",value:function(){this.applyChange({flipY:!0})}},{key:"fitX",value:function(){this.stop("target");var e=this,t=e.containerRect,i=e.contentRect,n=e.target;this.applyChange({panX:.5*t.width-(i.left+.5*i.fitWidth)-n.e,panY:.5*t.height-(i.top+.5*i.fitHeight)-n.f,scale:t.width/i.fitWidth/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"fitY",value:function(){this.stop("target");var e=this,t=e.containerRect,i=e.contentRect,n=e.target;this.applyChange({panX:.5*t.width-(i.left+.5*i.fitWidth)-n.e,panY:.5*t.innerHeight-(i.top+.5*i.fitHeight)-n.f,scale:t.height/i.fitHeight/this.targetScale,originX:0,originY:0,ignoreBounds:!0})}},{key:"toggleFS",value:function(){var e=this.container,t=this.cn("inFullscreen"),i=this.cn("htmlHasFullscreen");e.classList.toggle(t);var n=e.classList.contains(t);n?(document.documentElement.classList.add(i),document.addEventListener("keydown",this.onKeydown,!0)):(document.documentElement.classList.remove(i),document.removeEventListener("keydown",this.onKeydown,!0)),this.updateMetrics(),this.emit(n?"enterFS":"exitFS")}},{key:"getMatrix",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.current,t=e.a,i=e.b,n=e.c,a=e.d,o=e.e,r=e.f;return new DOMMatrix([t,i,n,a,o,r])}},{key:"reset",value:function(e){if(this.state!==oe.Init&&this.state!==oe.Destroy){this.stop("current");var t=!0,i=!1,n=void 0;try{for(var a,o=le[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var r=a.value;this.target[r]=pe[r]}}catch(e){i=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}this.target.a=this.minScale,this.target.d=this.minScale,this.clampTargetBounds(),this.isResting||(this.friction=void 0===e?this.option("friction"):e,this.state=oe.Panning,this.requestTick())}}},{key:"destroy",value:function(){this.stop(),this.state=oe.Destroy,this.detachEvents(),this.detachObserver();var e=this.container,t=this.content,i=this.option("classes")||{},n=!0,a=!1,o=void 0;try{for(var r,s=Object.values(i)[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;e.classList.remove(l+"")}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}t&&(t.removeEventListener("load",this.onLoad),t.removeEventListener("error",this.onError)),this.detachPlugins()}}]),n}(se);Object.defineProperty(ye,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:ue}),Object.defineProperty(ye,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:{}});var be,we,xe=function(t,i){var n=!0;return function(){for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];n&&(n=!1,t.apply(void 0,e(z)(o)),setTimeout((function(){n=!0}),i))}},ke=function(e,t){var i=[];return e.childNodes.forEach((function(e){e.nodeType!==Node.ELEMENT_NODE||t&&!e.matches(t)||i.push(e)})),i};(we=be||(be={}))[we.Init=0]="Init",we[we.Ready=1]="Ready",we[we.Destroy=2]="Destroy";var Se=function(e){if("string"==typeof e&&(e={html:e}),!(e instanceof String||e instanceof HTMLElement)){var t=e.thumb;void 0!==t&&("string"==typeof t&&(e.thumbSrc=t),t instanceof HTMLImageElement&&(e.thumbEl=t,e.thumbElSrc=t.src,e.thumbSrc=t.src),delete e.thumb)}return Object.assign({html:"",el:null,isDom:!1,class:"",index:-1,dim:0,gap:0,pos:0,transition:!1},e)},Ee=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({index:-1,slides:[],dim:0,pos:-1},e)},Pe=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(t,a){var o;return e(p)(this,n),o=i.call(this,a),Object.defineProperty(e(v)(o),"instance",{enumerable:!0,configurable:!0,writable:!0,value:t}),e(M)(o)}return e(m)(n,[{key:"attach",value:function(){}},{key:"detach",value:function(){}}]),n}(ae),Me=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"isDynamic",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(t),"list",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(M)(t)}return e(m)(n,[{key:"onRefresh",value:function(){this.refresh()}},{key:"build",value:function(){var e=this.list;return e||(e=document.createElement("ul"),ve(e,this.cn("list")),e.setAttribute("role","tablist"),this.instance.container.appendChild(e),ve(this.instance.container,this.cn("hasDots")),this.list=e),e}},{key:"refresh",value:function(){var t,i=this.instance.pages.length,n=Math.min(2,this.option("minCount")),a=Math.max(2e3,this.option("maxCount")),o=this.option("dynamicFrom");if(i<n||i>a)this.cleanup();else{var r="number"==typeof o&&i>5&&i>=o,s=!this.list||this.isDynamic!==r||this.list.children.length!==i;s&&this.cleanup();var l=this.build();if(U(l,this.cn("isDynamic"),!!r),s)for(var c=0;c<i;c++)l.append(this.createItem(c));var u,h=0,d=!0,f=!1,v=void 0;try{for(var p,m=e(z)(l.children)[Symbol.iterator]();!(d=(p=m.next()).done);d=!0){var g=p.value,y=h===this.instance.page;y&&(u=g),U(g,this.cn("isCurrent"),y),null===(t=g.children[0])||void 0===t||t.setAttribute("aria-selected",y?"true":"false");var b=!0,w=!1,x=void 0;try{for(var k,S=["isBeforePrev","isPrev","isNext","isAfterNext"][Symbol.iterator]();!(b=(k=S.next()).done);b=!0){var E=k.value;fe(g,this.cn(E))}}catch(e){w=!0,x=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw x}}h++}}catch(e){f=!0,v=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}if(u=u||l.firstChild,r&&u){var P=u.previousElementSibling,M=P&&P.previousElementSibling;ve(P,this.cn("isPrev")),ve(M,this.cn("isBeforePrev"));var O=u.nextElementSibling,T=O&&O.nextElementSibling;ve(O,this.cn("isNext")),ve(T,this.cn("isAfterNext"))}this.isDynamic=r}}},{key:"createItem",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=document.createElement("li");i.setAttribute("role","presentation");var n=G(this.instance.localize(this.option("dotTpl"),[["%d",t+1]]).replace(/\%i/g,t+""));return i.appendChild(n),null===(e=i.children[0])||void 0===e||e.setAttribute("role","tab"),i}},{key:"cleanup",value:function(){this.list&&(this.list.remove(),this.list=null),this.isDynamic=!1,fe(this.instance.container,this.cn("hasDots"))}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(Pe);Object.defineProperty(Me,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{list:"f-carousel__dots",isDynamic:"is-dynamic",hasDots:"has-dots",dot:"f-carousel__dot",isBeforePrev:"is-before-prev",isPrev:"is-prev",isCurrent:"is-current",isNext:"is-next",isAfterNext:"is-after-next"},dotTpl:'<button type="button" data-carousel-page="%i" aria-label="{{GOTO}}"><span class="f-carousel__dot" aria-hidden="true"></span></button>',dynamicFrom:11,maxCount:1/0,minCount:2}});var Oe=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"prev",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"next",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(M)(t)}return e(m)(n,[{key:"onRefresh",value:function(){var e=this.instance,t=e.pages.length,i=e.page;if(t<2)this.cleanup();else{this.build();var n=this.prev,a=this.next;n&&a&&(n.removeAttribute("disabled"),a.removeAttribute("disabled"),e.isInfinite||(i<=0&&n.setAttribute("disabled",""),i>=t-1&&a.setAttribute("disabled","")))}}},{key:"createButton",value:function(e){var t=this.instance,i=document.createElement("button");i.setAttribute("tabindex","0"),i.setAttribute("title",t.localize("{{".concat(e.toUpperCase(),"}}"))),ve(i,this.cn("button")+" "+this.cn("next"===e?"isNext":"isPrev"));var n,a=t.isRTL?"next"===e?"prev":"next":e;return i.innerHTML=t.localize(this.option("".concat(a,"Tpl"))),i.dataset["carousel".concat((n=e,n?n.match("^[a-z]")?n.charAt(0).toUpperCase()+n.substring(1):n:""))]="true",i}},{key:"build",value:function(){var e=this.container;e||(this.container=e=document.createElement("div"),ve(e,this.cn("container")),this.instance.container.appendChild(e)),this.next||(this.next=e.appendChild(this.createButton("next"))),this.prev||(this.prev=e.appendChild(this.createButton("prev")))}},{key:"cleanup",value:function(){this.prev&&this.prev.remove(),this.next&&this.next.remove(),this.container&&this.container.remove(),this.prev=null,this.next=null,this.container=null}},{key:"attach",value:function(){this.instance.on(["refresh","change"],this.onRefresh)}},{key:"detach",value:function(){this.instance.off(["refresh","change"],this.onRefresh),this.cleanup()}}]),n}(Pe);Object.defineProperty(Oe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{classes:{container:"f-carousel__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"},nextTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M9 3l9 9-9 9"/></svg>',prevTpl:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M15 3l-9 9 9 9"/></svg>'}});var Te=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"selectedIndex",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"target",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"nav",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(M)(t)}return e(m)(n,[{key:"addAsTargetFor",value:function(e){this.target=this.instance,this.nav=e,this.attachEvents()}},{key:"addAsNavFor",value:function(e){this.nav=this.instance,this.target=e,this.attachEvents()}},{key:"attachEvents",value:function(){this.nav&&this.target&&(this.nav.options.initialSlide=this.target.options.initialPage,this.nav.on("ready",this.onNavReady),this.nav.state===be.Ready&&this.onNavReady(this.nav),this.target.on("ready",this.onTargetReady),this.target.state===be.Ready&&this.onTargetReady(this.target))}},{key:"onNavReady",value:function(e){e.on("createSlide",this.onNavCreateSlide),e.on("Panzoom.click",this.onNavClick),e.on("Panzoom.touchEnd",this.onNavTouch),this.onTargetChange()}},{key:"onTargetReady",value:function(e){e.on("change",this.onTargetChange),e.on("Panzoom.refresh",this.onTargetChange),this.onTargetChange()}},{key:"onNavClick",value:function(e,t,i){i.pointerType||this.onNavTouch(e,e.panzoom,i)}},{key:"onNavTouch",value:function(e,t,i){var n,a;if(!(Math.abs(t.dragOffset.x)>3||Math.abs(t.dragOffset.y)>3)){var o=i.target,r=this.nav,s=this.target;if(r&&s&&o){var l=o.closest("[data-index]");if(i.stopPropagation(),i.preventDefault(),l){var c=parseInt(l.dataset.index||"",10)||0,u=s.getPageForSlide(c),h=r.getPageForSlide(c);r.slideTo(h),s.slideTo(u,{friction:null===(a=null===(n=this.nav)||void 0===n?void 0:n.plugins)||void 0===a?void 0:a.Sync.option("friction")}),this.markSelectedSlide(c)}}}}},{key:"onNavCreateSlide",value:function(e,t){t.index===this.selectedIndex&&this.markSelectedSlide(t.index)}},{key:"onTargetChange",value:function(){var e=this.target,t=this.nav;if(e&&t&&t.state===be.Ready&&e.state===be.Ready){var i=e.pages[e.page].slides[0].index,n=t.getPageForSlide(i);this.markSelectedSlide(i),t.slideTo(n)}}},{key:"markSelectedSlide",value:function(t){var i=this.nav;i&&i.state===be.Ready&&(this.selectedIndex=t,e(z)(i.slides).map((function(e){e.el&&e.el.classList[e.index===t?"add":"remove"]("is-nav-selected")})))}},{key:"attach",value:function(){var e=this.options.target,t=this.options.nav;e?this.addAsNavFor(e):t&&this.addAsTargetFor(t)}},{key:"detach",value:function(){this.nav&&(this.nav.off("ready",this.onNavReady),this.nav.off("createSlide",this.onNavCreateSlide),this.nav.off("Panzoom.click",this.onNavClick),this.nav.off("Panzoom.touchEnd",this.onNavTouch)),this.nav=null,this.target&&(this.target.off("ready",this.onTargetReady),this.target.off("refresh",this.onTargetChange),this.target.off("change",this.onTargetChange)),this.target=null}}]),n}(Pe);Object.defineProperty(Te,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{friction:.35}});var Ce={Navigation:Oe,Dots:Me,Sync:Te},Ae=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(t){var a,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e(p)(this,n),a=i.call(this),Object.defineProperty(e(v)(a),"userOptions",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e(v)(a),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e(v)(a),"bp",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e(v)(a),"lp",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(a),"state",{enumerable:!0,configurable:!0,writable:!0,value:be.Init}),Object.defineProperty(e(v)(a),"page",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(a),"prevPage",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"container",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(v)(a),"viewport",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"slides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(v)(a),"pages",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(v)(a),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(a),"inTransition",{enumerable:!0,configurable:!0,writable:!0,value:new Set}),Object.defineProperty(e(v)(a),"contentDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(a),"viewportDim",{enumerable:!0,configurable:!0,writable:!0,value:0}),"string"==typeof t&&(t=document.querySelector(t)),!t||!de(t))throw new Error("No Element found");return a.container=t,a.slideNext=xe(a.slideNext.bind(e(v)(a)),150),a.slidePrev=xe(a.slidePrev.bind(e(v)(a)),150),a.userOptions=o,a.userPlugins=r,queueMicrotask((function(){a.processOptions()})),e(M)(a)}return e(m)(n,[{key:"axis",get:function(){return this.isHorizontal?"e":"f"}},{key:"isEnabled",get:function(){return this.state===be.Ready}},{key:"isInfinite",get:function(){var e=!1,t=this.contentDim,i=this.viewportDim;return this.pages.length>=2&&t>1.5*i&&(e=this.option("infinite")),e}},{key:"isRTL",get:function(){return"rtl"===this.option("direction")}},{key:"isHorizontal",get:function(){return"x"===this.option("axis")}},{key:"processOptions",value:function(){var t=this,i=ie({},n.defaults,this.userOptions),a="",o=i.breakpoints,r=!0,s=!1,l=void 0;if(o&&te(o))try{for(var c,u=Object.entries(o)[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var h=e(O)(c.value,2),d=h[0],f=h[1];window.matchMedia(d).matches&&te(f)&&(a+=d,ie(i,f))}}catch(e){s=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(s)throw l}}a===this.bp&&this.state!==be.Init||(this.bp=a,this.state===be.Ready&&(i.initialSlide=this.pages[this.page].slides[0].index),this.state!==be.Init&&this.destroy(),e(b)(e(S)(n.prototype),"setOptions",this).call(this,i),!1===this.option("enabled")?this.attachEvents():setTimeout((function(){t.init()}),0))}},{key:"init",value:function(){this.state=be.Init,this.emit("init"),this.attachPlugins(Object.assign(Object.assign({},n.Plugins),this.userPlugins)),this.initLayout(),this.initSlides(),this.updateMetrics(),this.setInitialPosition(),this.initPanzoom(),this.attachEvents(),this.state=be.Ready,this.emit("ready")}},{key:"initLayout",value:function(){var t,i,n=this.container,a=this.option("classes");ve(n,this.cn("container")),U(n,a.isLTR,!this.isRTL),U(n,a.isRTL,this.isRTL),U(n,a.isVertical,!this.isHorizontal),U(n,a.isHorizontal,this.isHorizontal);var o=this.option("viewport")||n.querySelector(".".concat(a.viewport));o||(o=document.createElement("div"),ve(o,a.viewport),(t=o).append.apply(t,e(z)(ke(n,".".concat(a.slide)))),n.prepend(o));var r=this.option("track")||n.querySelector(".".concat(a.track));r||(r=document.createElement("div"),ve(r,a.track),(i=r).append.apply(i,e(z)(Array.from(o.childNodes)))),r.setAttribute("aria-live","polite"),o.contains(r)||o.prepend(r),this.viewport=o,this.track=r,this.emit("initLayout")}},{key:"initSlides",value:function(){var t=this.track;if(t){var i=this;this.slides=[],e(z)(ke(t,".".concat(this.cn("slide")))).forEach((function(e){if(de(e)){var t=Se({el:e,isDom:!0,index:i.slides.length});i.slides.push(t),i.emit("initSlide",t,i.slides.length)}}));var n=!0,a=!1,o=void 0;try{for(var r,s=this.option("slides",[])[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value,c=Se(l);c.index=this.slides.length,this.slides.push(c),this.emit("initSlide",c,this.slides.length)}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}this.emit("initSlides")}}},{key:"setInitialPage",value:function(){var e,t=this.option("initialSlide");e="number"==typeof t?this.getPageForSlide(t):parseInt(this.option("initialPage",0)+"",10)||0,this.page=e}},{key:"setInitialPosition",value:function(){if(this.track&&this.pages.length){var e=this.isHorizontal,t=this.page;this.pages[t]||(this.page=t=0);var i=this.pages[t].pos*(this.isRTL&&e?1:-1),n=e?"".concat(i,"px"):"0",a=e?"0":"".concat(i,"px");this.track.style.transform="translate3d(".concat(n,", ").concat(a,", 0) scale(1)"),this.option("adaptiveHeight")&&this.setViewportHeight()}}},{key:"initPanzoom",value:function(){var t=this;this.panzoom&&(this.panzoom.destroy(),this.panzoom=null);var i=this.option("Panzoom")||{};this.panzoom=new ye(this.viewport,ie({},{content:this.track,zoom:!1,panOnlyZoomed:!1,lockAxis:this.isHorizontal?"x":"y",infinite:this.isInfinite,click:!1,dblClick:!1,touch:function(e){return!(t.pages.length<2&&!e.options.infinite)},bounds:function(){return t.getBounds()},maxVelocity:function(e){return Math.abs(e.target[t.axis]-e.current[t.axis])<2*t.viewportDim?100:0}},i)),this.panzoom.on("*",(function(i,n){for(var a=arguments.length,o=new Array(a>2?a-2:0),r=2;r<a;r++)o[r-2]=arguments[r];t.emit.apply(t,["Panzoom.".concat(n),i].concat(e(z)(o)))})),this.panzoom.on("decel",this.onDecel),this.panzoom.on("refresh",this.onRefresh),this.panzoom.on("beforeTransform",this.onBeforeTransform),this.panzoom.on("endAnimation",this.onEndAnimation)}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("slideTo",this.onSlideTo)),window.addEventListener("resize",this.onResize)}},{key:"createPages",value:function(){var e=[],t=this.contentDim,i=this.viewportDim,n=this.option("slidesPerPage");("number"!=typeof n||t<=i)&&(n=1/0);var a=0,o=0,r=0,s=!0,l=!1,c=void 0;try{for(var u,h=this.slides[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;(!e.length||o+d.dim>i||r===n)&&(e.push(Ee()),a=e.length-1,o=0,r=0),e[a].slides.push(d),o+=d.dim+d.gap,r++}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}return e}},{key:"processPages",value:function(){var t=this,i=this.pages,n=this.contentDim,a=this.viewportDim,o=this.option("center"),r=this.option("fill"),s=r&&o&&n>a&&!this.isInfinite;if(i.forEach((function(t,i){t.index=i,t.pos=t.slides[0].pos,t.dim=0;var r=!0,l=!1,c=void 0;try{for(var u,h=t.slides.entries()[Symbol.iterator]();!(r=(u=h.next()).done);r=!0){var d=e(O)(u.value,2),f=d[0],v=d[1];t.dim+=v.dim,f<t.slides.length-1&&(t.dim+=v.gap)}}catch(e){l=!0,c=e}finally{try{r||null==h.return||h.return()}finally{if(l)throw c}}s&&t.pos+.5*t.dim<.5*a?t.pos=0:s&&t.pos+.5*t.dim>=n-.5*a?t.pos=n-a:o&&(t.pos+=-.5*(a-t.dim))})),i.forEach((function(e,i){r&&!t.isInfinite&&n>a&&(e.pos=Math.max(e.pos,0),e.pos=Math.min(e.pos,n-a)),e.pos=X(e.pos,1e3),e.dim=X(e.dim,1e3),e.pos<.1&&e.pos>-.1&&(e.pos=0)})),this.isInfinite)return i;var l,c=[];return i.forEach((function(t){var i=Object.assign({},t);l&&i.pos===l.pos?(l.dim+=i.dim,l.slides=e(z)(l.slides).concat(e(z)(i.slides))):(i.index=c.length,l=i,c.push(i))})),c}},{key:"getPageFromIndex",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=this.pages.length;return e=parseInt((e||0).toString())||0,this.isInfinite?(e%t+t)%t:Math.max(Math.min(e,t-1),0)}},{key:"getSlideMetrics",value:function(e){var t,i=this.isHorizontal?"width":"height",n=0,a=e.el;a?n=parseFloat(a.dataset[i]||"")||0:((a=document.createElement("div")).style.visibility="hidden",ve(a,this.cn("slide")+" "+e.class),(this.track||document.body).prepend(a)),n?(a.style[i]="".concat(n,"px"),a.style["width"===i?"height":"width"]=""):n=a.getBoundingClientRect()[i];var o=getComputedStyle(a);return"content-box"===o.boxSizing&&(this.isHorizontal?(n+=parseFloat(o.paddingLeft)||0,n+=parseFloat(o.paddingRight)||0):(n+=parseFloat(o.paddingTop)||0,n+=parseFloat(o.paddingBottom)||0)),t=parseFloat(o[this.isHorizontal?"marginRight":"marginBottom"])||0,this.isHorizontal,e.el||a.remove(),{dim:X(n,1e3),gap:X(t,1e3)}}},{key:"getBounds",value:function(){var e={min:0,max:0};if(this.isInfinite)e={min:-1/0,max:1/0};else if(this.pages.length){var t=this.pages[0].pos,i=this.pages[this.pages.length-1].pos;e=this.isRTL&&this.isHorizontal?{min:t,max:i}:{min:-1*i,max:-1*t}}return{x:this.isHorizontal?e:{min:0,max:0},y:this.isHorizontal?{min:0,max:0}:e}}},{key:"repositionSlides",value:function(){var t,i=this,n=i.viewport,a=i.viewportDim,o=i.contentDim,r=i.page,s=i.pages,l=0,c=0,u=0,h=0;this.panzoom?h=-1*this.panzoom.current[this.axis]:s[r]&&(h=s[r].pos||0),t=this.isHorizontal?this.isRTL?"right":"left":"top",this.isRTL&&this.isHorizontal&&(h*=-1);var d=!0,f=!1,v=void 0;try{for(var p,m=this.slides[Symbol.iterator]();!(d=(p=m.next()).done);d=!0){var g=p.value;g.el?("top"===t?(g.el.style.right="",g.el.style.left=""):g.el.style.top="",g.index!==l?g.el.style[t]=0===c?"":"".concat(X(c,1e3),"px"):g.el.style[t]="",u+=g.dim+g.gap,l++):c+=g.dim+g.gap}}catch(e){f=!0,v=e}finally{try{d||null==m.return||m.return()}finally{if(f)throw v}}if(this.isInfinite&&u&&n){var y=this.isHorizontal,b=getComputedStyle(n),w="padding",x=y?"Right":"Bottom",k=parseFloat(b[w+(y?"Left":"Top")]);h-=k,a+=k,a+=parseFloat(b[w+x]);var S=!0,E=!1,P=void 0;try{for(var M,O=this.slides[Symbol.iterator]();!(S=(M=O.next()).done);S=!0){var T=M.value;T.el&&(X(T.pos)<X(a)&&X(T.pos+T.dim+T.gap)<X(h)&&X(h)>X(o-a)&&(T.el.style[t]="".concat(X(c+u,1e3),"px")),X(T.pos+T.gap)>=X(o-a)&&X(T.pos)>X(h+a)&&X(h)<X(a)&&(T.el.style[t]="-".concat(X(u,1e3),"px")))}}catch(e){E=!0,P=e}finally{try{S||null==O.return||O.return()}finally{if(E)throw P}}}var C,A,L=e(z)(this.inTransition);if(L.length>1&&(C=this.pages[L[0]],A=this.pages[L[1]]),C&&A){var _=0,R=!0,I=!1,j=void 0;try{for(var D,F=this.slides[Symbol.iterator]();!(R=(D=F.next()).done);R=!0){var H=D.value;H.el?this.inTransition.has(H.index)&&C.slides.indexOf(H)<0&&(H.el.style[t]="".concat(X(_+(C.pos-A.pos),1e3),"px")):_+=H.dim+H.gap}}catch(e){I=!0,j=e}finally{try{R||null==F.return||F.return()}finally{if(I)throw j}}}}},{key:"createSlideEl",value:function(e){if(this.track&&e&&!e.el){var t=document.createElement("div");ve(t,this.cn("slide")),ve(t,e.class),ve(t,e.customClass),e.html&&(t.innerHTML=e.html);var i=[];this.slides.forEach((function(e,t){e.el&&i.push(t)}));var n=e.index,a=null;if(i.length){var o=i.reduce((function(e,t){return Math.abs(t-n)<Math.abs(e-n)?t:e}));a=this.slides[o]}var r=a&&a.el?a.index<e.index?a.el.nextSibling:a.el:null;this.track.insertBefore(t,this.track.contains(r)?r:null),e.el=t,this.emit("createSlide",e)}}},{key:"removeSlideEl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],i=e.el;if(i){if(fe(i,this.cn("isSelected")),e.isDom&&!t)return i.removeAttribute("aria-hidden"),i.removeAttribute("data-index"),fe(i,this.cn("isSelected")),void(i.style.left="");this.emit("removeSlide",e);var n=new CustomEvent("animationend");i.dispatchEvent(n),e.el&&e.el.remove(),e.el=null}}},{key:"transitionTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.option("transition");if(!t)return!1;var i=this,n=i.pages,a=i.panzoom;e=parseInt((e||0).toString())||0;var o=this.getPageFromIndex(e);if(!a||!n[o]||n.length<2||Math.abs(n[this.page].slides[0].dim-this.viewportDim)>1)return!1;var r=e>this.page?1:-1,s=this.pages[o].pos*(this.isRTL?1:-1);if(this.page===o&&X(s,1e3)===X(a.target[this.axis],1e3))return!1;this.clearTransitions();var l=a.isResting;ve(this.container,this.cn("inTransition"));var c=this.pages[this.page].slides[0],u=this.pages[o].slides[0];this.inTransition.add(u.index),this.createSlideEl(u);var h=c.el,d=u.el;l||"slide"===t||(t="fadeFast",h=null);var f=this.isRTL?"next":"prev",v=this.isRTL?"prev":"next";return h&&(this.inTransition.add(c.index),c.transition=t,h.addEventListener("animationend",this.onAnimationEnd),h.classList.add("f-".concat(t,"Out"),"to-".concat(r>0?v:f))),d&&(u.transition=t,d.addEventListener("animationend",this.onAnimationEnd),d.classList.add("f-".concat(t,"In"),"from-".concat(r>0?f:v))),a.panTo({x:this.isHorizontal?s:0,y:this.isHorizontal?0:s,friction:0}),this.onChange(o),!0}},{key:"manageSlideVisiblity",value:function(){var e=new Set,t=new Set,i=this.getVisibleSlides(parseFloat(this.option("preload",0)+"")||0),n=!0,a=!1,o=void 0;try{for(var r,s=this.slides[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;i.has(l)?e.add(l):t.add(l)}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}var c=!0,u=!1,h=void 0;try{for(var d,f=this.inTransition[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;e.add(this.slides[v])}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}var p=!0,m=!1,g=void 0;try{for(var y,b=e[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;this.createSlideEl(w),this.lazyLoadSlide(w)}}catch(e){m=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw g}}var x=!0,k=!1,S=void 0;try{for(var E,P=t[Symbol.iterator]();!(x=(E=P.next()).done);x=!0){var M=E.value;e.has(M)||this.removeSlideEl(M)}}catch(e){k=!0,S=e}finally{try{x||null==P.return||P.return()}finally{if(k)throw S}}this.markSelectedSlides(),this.repositionSlides()}},{key:"markSelectedSlides",value:function(){if(this.pages[this.page]&&this.pages[this.page].slides){var e="aria-hidden",t=this.cn("isSelected"),i=!0,n=!1,a=void 0;if(t)try{for(var o,r=this.slides[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value;s.el&&(s.el.dataset.index="".concat(s.index),this.pages[this.page].slides.includes(s)?(s.el.classList.contains(t)||(ve(s.el,t),this.emit("selectSlide",s)),s.el.removeAttribute(e)):(s.el.classList.contains(t)&&(fe(s.el,t),this.emit("unselectSlide",s)),s.el.setAttribute(e,"true")))}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}}}},{key:"flipInfiniteTrack",value:function(){var e=this.panzoom;if(e&&this.isInfinite){var t="x"===this.option("axis")?"e":"f",i=this.viewportDim,n=this.contentDim,a=e.current[t],o=e.target[t]-a,r=0,s=.5*i,l=n;this.isRTL&&this.isHorizontal?(a<-s&&(r=-1,a+=l),a>l-s&&(r=1,a-=l)):(a>s&&(r=1,a-=l),a<-l+s&&(r=-1,a+=l)),r&&(e.current[t]=a,e.target[t]=a+o)}}},{key:"lazyLoadSlide",value:function(e){var t=this,i=this,n=e&&e.el;if(n){var a=new Set,o="f-fadeIn";n.querySelectorAll("[data-lazy-srcset]").forEach((function(e){e instanceof HTMLImageElement&&a.add(e)}));var r=Array.from(n.querySelectorAll("[data-lazy-src]"));n.dataset.lazySrc&&r.push(n),r.map((function(e){e instanceof HTMLImageElement?a.add(e):de(e)&&(e.style.backgroundImage="url('".concat(e.dataset.lazySrc||"","')"),delete e.dataset.lazySrc)}));var s=function(e,n,a){a&&(a.remove(),a=null),n.complete&&(n.classList.add(o),setTimeout((function(){n.classList.remove(o)}),350),n.style.display=""),t.option("adaptiveHeight")&&e.el&&t.pages[t.page].slides.indexOf(e)>-1&&(i.updateMetrics(),i.setViewportHeight()),t.emit("load",e)},l=!0,c=!1,u=void 0;try{for(var h,d=function(t,i){var n=i.value,a=null;n.src=n.dataset.lazySrcset||n.dataset.lazySrc||"",delete n.dataset.lazySrc,delete n.dataset.lazySrcset,n.style.display="none",n.addEventListener("error",(function(){s(e,n,a)})),n.addEventListener("load",(function(){s(e,n,a)})),setTimeout((function(){n.parentNode&&e.el&&(n.complete?s(e,n,a):(a=G(he),n.parentNode.insertBefore(a,n)))}),300)},f=a[Symbol.iterator]();!(l=(h=f.next()).done);l=!0)d(0,h)}catch(e){c=!0,u=e}finally{try{l||null==f.return||f.return()}finally{if(c)throw u}}}}},{key:"onAnimationEnd",value:function(e){var t,i=e.target,n=i?parseInt(i.dataset.index||"",10)||0:-1,a=this.slides[n],o=e.animationName;if(i&&a&&o){var r=!!this.inTransition.has(n)&&a.transition;r&&o.substring(0,r.length+2)==="f-".concat(r)&&this.inTransition.delete(n),this.inTransition.size||this.clearTransitions(),n===this.page&&(null===(t=this.panzoom)||void 0===t?void 0:t.isResting)&&this.emit("settle")}}},{key:"onDecel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=this,a=n.isRTL,o=n.isHorizontal,r=n.axis,s=n.pages,l=s.length,c=Math.abs(Math.atan2(i,t)/(Math.PI/180)),u=0;if(u=c>45&&c<135?o?0:i:o?t:0,l){var h=this.option("dragFree"),d=this.page,f=a&&o?1:-1,v=e.target[r]*f,p=e.current[r]*f,m=this.getPageFromPosition(v),g=m.pageIndex,y=this.getPageFromPosition(p),b=y.pageIndex;h?this.onChange(g):(Math.abs(u)>5?(s[d].dim<document.documentElement["client"+(this.isHorizontal?"Width":"Height")]-1&&(d=b),d=a&&o?u<0?d-1:d+1:u<0?d+1:d-1):d=b,this.slideTo(d,{transition:!1,friction:e.option("decelFriction")}))}}},{key:"onClick",value:function(e){var t,i,n=e.target,a=n&&de(n)?n.dataset:null;a&&(void 0!==a.carouselPage?(i="slideTo",t=a.carouselPage):void 0!==a.carouselNext?i="slideNext":void 0!==a.carouselPrev&&(i="slidePrev")),i?(e.preventDefault(),e.stopPropagation(),n&&!n.hasAttribute("disabled")&&this[i](t)):this.emit("click",e)}},{key:"onSlideTo",value:function(e){var t=e.detail||0;this.slideTo(this.getPageForSlide(t),{friction:0})}},{key:"onChange",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=this.page;this.prevPage=i,this.page=e,this.option("adaptiveHeight")&&this.setViewportHeight(),e!==i&&(this.markSelectedSlides(),this.emit("change",e,i,t))}},{key:"onRefresh",value:function(){var e=this.contentDim,t=this.viewportDim;this.updateMetrics(),this.contentDim===e&&this.viewportDim===t||this.slideTo(this.page,{friction:0,transition:!1})}},{key:"onResize",value:function(){this.option("breakpoints")&&this.processOptions()}},{key:"onBeforeTransform",value:function(e){this.lp!==e.current[this.axis]&&(this.flipInfiniteTrack(),this.manageSlideVisiblity()),this.lp=e.current.e}},{key:"onEndAnimation",value:function(){this.inTransition.size||this.emit("settle")}},{key:"reInit",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.destroy(),this.state=be.Init,this.userOptions=e||this.userOptions,this.userPlugins=t||this.userPlugins,this.processOptions()}},{key:"slideTo",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.friction,n=void 0===i?this.option("friction"):i,a=t.transition,o=void 0===a?this.option("transition"):a;if(this.state!==be.Destroy){var r=this,s=r.axis,l=r.isHorizontal,c=r.isRTL,u=r.pages,h=r.panzoom,d=u.length,f=c&&l?1:-1;if(h&&d&&!this.transitionTo(e,o)){var v=this.getPageFromIndex(e),p=u[v].pos;if(this.isInfinite){var m=this.contentDim,g=h.target[s]*f;if(2===d)p+=m*Math.floor(parseFloat(e+"")/2);else{var y=g;p=[p,p-m,p+m].reduce((function(e,t){return Math.abs(t-y)<Math.abs(e-y)?t:e}))}}p*=f,Math.abs(h.target[s]-p)<.1||(h.panTo({x:l?p:0,y:l?0:p,friction:n}),this.onChange(v))}}}},{key:"slideToClosest",value:function(e){if(this.panzoom){var t=this.getPageFromPosition(this.panzoom.current[this.isHorizontal?"e":"f"]).pageIndex;this.slideTo(t,e)}}},{key:"slideNext",value:function(){this.slideTo(this.page+1)}},{key:"slidePrev",value:function(){this.slideTo(this.page-1)}},{key:"clearTransitions",value:function(){this.inTransition.clear(),fe(this.container,this.cn("inTransition"));var t=["to-prev","to-next","from-prev","from-next"],i=!0,n=!1,a=void 0;try{for(var o,r=this.slides[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value,l=s.el;if(l){var c;l.removeEventListener("animationend",this.onAnimationEnd),(c=l.classList).remove.apply(c,e(z)(t));var u=s.transition;u&&l.classList.remove("f-".concat(u,"Out"),"f-".concat(u,"In"))}}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}this.manageSlideVisiblity()}},{key:"prependSlide",value:function(e){var t,i,n=Array.isArray(e)?e:[e],a=!0,o=!1,r=void 0;try{for(var s,l=n.reverse()[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;this.slides.unshift(Se(c))}}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}for(var u=0;u<this.slides.length;u++)this.slides[u].index=u;var h=(null===(t=this.pages[this.page])||void 0===t?void 0:t.pos)||0;this.page+=n.length,this.updateMetrics();var d=(null===(i=this.pages[this.page])||void 0===i?void 0:i.pos)||0;if(this.panzoom){var f=this.isRTL?h-d:d-h;this.panzoom.target.e-=f,this.panzoom.current.e-=f,this.panzoom.requestTick()}}},{key:"appendSlide",value:function(e){var t=Array.isArray(e)?e:[e],i=!0,n=!1,a=void 0;try{for(var o,r=t[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value,l=Se(s);l.index=this.slides.length,this.slides.push(l),this.emit("initSlide",s,this.slides.length)}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}this.updateMetrics()}},{key:"removeSlide",value:function(e){var t=this.slides.length;e=(e%t+t)%t,this.removeSlideEl(this.slides[e],!0),this.slides.splice(e,1);for(var i=0;i<this.slides.length;i++)this.slides[i].index=i;this.updateMetrics(),this.slideTo(this.page,{friction:0,transition:!1})}},{key:"updateMetrics",value:function(){var t=this,i=t.panzoom,n=t.viewport,a=t.track,o=t.isHorizontal;if(a){var r=o?"width":"height";if(n){var s=X(n.getBoundingClientRect()[r],1e3),l=getComputedStyle(n),c="padding",u=o?"Right":"Bottom";s-=parseFloat(l[c+(o?"Left":"Top")])+parseFloat(l[c+u]),this.viewportDim=s}var h,d=this.pages.length,f=0,v=!0,p=!1,m=void 0;try{for(var g,y=this.slides.entries()[Symbol.iterator]();!(v=(g=y.next()).done);v=!0){var b,w=e(O)(g.value,2),x=w[0],k=w[1],S=0,E=0;!k.el&&h?(S=h.dim,E=h.gap):(S=(b=this.getSlideMetrics(k)).dim,E=b.gap,h=k),S=X(S,1e3),E=X(E,1e3),k.dim=S,k.gap=E,k.pos=f,f+=S,(this.isInfinite||x<this.slides.length-1)&&(f+=E)}}catch(e){p=!0,m=e}finally{try{v||null==y.return||y.return()}finally{if(p)throw m}}var P=this.contentDim;f=X(f,1e3),this.contentDim=f,i&&(i.contentRect[r]=f,i.contentRect["e"===this.axis?"fullWidth":"fullHeight"]=f),this.pages=this.createPages(),this.pages=this.processPages(),this.state===be.Init&&this.setInitialPage(),this.page=Math.max(0,Math.min(this.page,this.pages.length-1)),i&&d===this.pages.length&&Math.abs(f-P)>.5&&(i.target[this.axis]=-1*this.pages[this.page].pos,i.current[this.axis]=-1*this.pages[this.page].pos,i.stop()),this.manageSlideVisiblity(),this.emit("refresh")}}},{key:"getProgress",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];void 0===e&&(e=this.page);var i=this,n=i.panzoom,a=i.pages[e]||0;if(!a||!n)return 0;var o=-1*n.current.e,r=i.contentDim,s=[X((o-a.pos)/(1*a.dim),1e3),X((o+r-a.pos)/(1*a.dim),1e3),X((o-r-a.pos)/(1*a.dim),1e3)].reduce((function(e,t){return Math.abs(t)<Math.abs(e)?t:e}));return t?s:Math.max(-1,Math.min(1,s))}},{key:"setViewportHeight",value:function(){var e=this,t=e.page,i=e.pages,n=e.viewport,a=e.isHorizontal;if(n&&i[t]){var o=0;a&&this.track&&(this.track.style.height="auto",i[t].slides.forEach((function(e){e.el&&(o=Math.max(o,e.el.offsetHeight))}))),n.style.height=o?"".concat(o,"px"):""}}},{key:"getPageForSlide",value:function(e){var t=!0,i=!1,n=void 0,a=!0,o=!1,r=void 0;try{for(var s,l=this.pages[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value;try{for(var u,h=c.slides[Symbol.iterator]();!(t=(u=h.next()).done);t=!0){if(u.value.index===e)return c.index}}catch(e){i=!0,n=e}finally{try{t||null==h.return||h.return()}finally{if(i)throw n}}}}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return-1}},{key:"getVisibleSlides",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=new Set,n=this,a=n.contentDim,o=n.viewportDim,r=n.pages,s=n.page;a=a+(null===(e=this.slides[this.slides.length-1])||void 0===e?void 0:e.gap)||0;var l=0;l=this.panzoom?-1*this.panzoom.current[this.axis]:r[s]&&r[s].pos||0,this.isInfinite&&(l-=Math.floor(l/a)*a),this.isRTL&&this.isHorizontal&&(l*=-1);var c=l-o*t,u=l+o*(t+1),h=this.isInfinite?[-1,0,1]:[0],d=!0,f=!1,v=void 0,p=!0,m=!1,g=void 0;try{for(var y,b=this.slides[Symbol.iterator]();!(p=(y=b.next()).done);p=!0){var w=y.value;try{for(var x,k=h[Symbol.iterator]();!(d=(x=k.next()).done);d=!0){var S=x.value,E=w.pos+S*a,P=w.pos+w.dim+w.gap+S*a;E<u&&P>c&&i.add(w)}}catch(e){f=!0,v=e}finally{try{d||null==k.return||k.return()}finally{if(f)throw v}}}}catch(e){m=!0,g=e}finally{try{p||null==b.return||b.return()}finally{if(m)throw g}}return i}},{key:"getPageFromPosition",value:function(e){var t,i,n=this.viewportDim,a=this.contentDim,o=this.pages.length,r=this.slides.length,s=this.slides[r-1],l=this.option("center");l&&(e+=.5*n),this.isInfinite||(e=Math.max(this.slides[0].pos,Math.min(e,s.pos)));var c=a+s.gap;i=Math.floor(e/c)||0,e-=i*c;var u=s,h=this.slides.find((function(t){var i=e+(u&&!l?.5*u.dim:0);return u=t,t.pos<=i&&t.pos+t.dim+t.gap>i}));return h||(h=s),{page:(t=this.getPageForSlide(h.index))+i*o,pageIndex:t}}},{key:"destroy",value:function(){var t,i=this;if(![be.Destroy].includes(this.state)){this.state=be.Destroy;var n=this,a=n.container,o=n.viewport,r=n.track,s=n.slides,l=n.panzoom,c=this.option("classes");a.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),a.removeEventListener("slideTo",this.onSlideTo),window.removeEventListener("resize",this.onResize),l&&(l.destroy(),this.panzoom=null),s&&s.forEach((function(e){i.removeSlideEl(e)})),this.detachPlugins(),o&&o.offsetParent&&r&&r.offsetParent&&(t=o).replaceWith.apply(t,e(z)(r.childNodes));var u=!0,h=!1,d=void 0;try{for(var f,v=Object.entries(c)[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var p=e(O)(f.value,2),m=p[0],g=p[1];"container"!==m&&g&&a.classList.remove(g)}}catch(e){h=!0,d=e}finally{try{u||null==v.return||v.return()}finally{if(h)throw d}}this.track=null,this.viewport=null,this.page=0,this.slides=[];var y=this.events.get("ready");this.events=new Map,y&&this.events.set("ready",y)}}}]),n}(se);Object.defineProperty(Ae,"Panzoom",{enumerable:!0,configurable:!0,writable:!0,value:ye}),Object.defineProperty(Ae,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{viewport:null,track:null,enabled:!0,slides:[],axis:"x",transition:"fade",preload:1,slidesPerPage:"auto",initialPage:0,friction:.12,Panzoom:{decelFriction:.12},center:!0,infinite:!0,fill:!0,dragFree:!1,adaptiveHeight:!1,direction:"ltr",classes:{container:"f-carousel",viewport:"f-carousel__viewport",track:"f-carousel__track",slide:"f-carousel__slide",isLTR:"is-ltr",isRTL:"is-rtl",isHorizontal:"is-horizontal",isVertical:"is-vertical",inTransition:"in-transition",isSelected:"is-selected"},l10n:{NEXT:"Next slide",PREV:"Previous slide",GOTO:"Go to slide #%d"}}}),Object.defineProperty(Ae,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:Ce});var Le,_e,ze,Re,Ie,je=function(e){var t=window.pageYOffset,i=window.pageYOffset+window.innerHeight;if(!de(e))return 0;var n=e.getBoundingClientRect(),a=n.y+window.pageYOffset,o=n.y+n.height+window.pageYOffset;if(t>o||i<a)return 0;if(t<a&&i>o)return 100;if(a<t&&o>i)return 100;var r=n.height;a<t&&(r-=window.pageYOffset-a),o>i&&(r-=o-i);var s=r/window.innerHeight*100;return Math.round(s)},De=!("undefined"==typeof window||!window.document||!window.document.createElement),Fe=["a[href]","area[href]",'input:not([disabled]):not([type="hidden"]):not([aria-hidden])',"select:not([disabled]):not([aria-hidden])","textarea:not([disabled]):not([aria-hidden])","button:not([disabled]):not([aria-hidden]):not(.fancybox-focus-guard)","iframe","object","embed","video","audio","[contenteditable]",'[tabindex]:not([tabindex^="-"]):not([disabled]):not([aria-hidden])'].join(","),He=function(e){if(e&&De){void 0===Le&&document.createElement("div").focus({get preventScroll(){return Le=!0,!1}});try{if(Le)e.focus({preventScroll:!0});else{var t=window.pageXOffset||document.body.scrollTop,i=window.pageYOffset||document.body.scrollLeft;e.focus(),document.body.scrollTo({top:t,left:i,behavior:"auto"})}}catch(e){}}},Be={dragToClose:!0,hideScrollbar:!0,Carousel:{classes:{container:"fancybox__carousel",viewport:"fancybox__viewport",track:"fancybox__track",slide:"fancybox__slide"}},contentClick:"toggleZoom",contentDblClick:!1,backdropClick:"close",animated:!0,idle:3500,showClass:"f-zoomInUp",hideClass:"f-fadeOut",commonCaption:!1,parentEl:null,startIndex:0,l10n:Object.assign(Object.assign({},ce),{CLOSE:"Close",NEXT:"Next",PREV:"Previous",MODAL:"You can close this modal content with the ESC key",ERROR:"Something Went Wrong, Please Try Again Later",IMAGE_ERROR:"Image Not Found",ELEMENT_NOT_FOUND:"HTML Element Not Found",AJAX_NOT_FOUND:"Error Loading AJAX : Not Found",AJAX_FORBIDDEN:"Error Loading AJAX : Forbidden",IFRAME_ERROR:"Error Loading Page",TOGGLE_ZOOM:"Toggle zoom level",TOGGLE_THUMBS:"Toggle thumbnails",TOGGLE_SLIDESHOW:"Toggle slideshow",TOGGLE_FULLSCREEN:"Toggle full-screen mode",DOWNLOAD:"Download"}),tpl:{closeButton:'<button data-fancybox-close class="f-button is-close-btn" title="{{CLOSE}}"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" tabindex="-1"><path d="M20 20L4 4m16 0L4 20"/></svg></button>',main:'<div class="fancybox__container" role="dialog" aria-modal="true" aria-label="{{MODAL}}" tabindex="-1">\n    <div class="fancybox__backdrop"></div>\n    <div class="fancybox__carousel"></div>\n    <div class="fancybox__footer"></div>\n  </div>'},groupAll:!1,groupAttr:"data-fancybox",defaultType:"image",defaultDisplay:"block",autoFocus:!0,trapFocus:!0,placeFocusBack:!0,closeButton:"auto",keyboard:{Escape:"close",Delete:"close",Backspace:"close",PageUp:"next",PageDown:"prev",ArrowUp:"prev",ArrowDown:"next",ArrowRight:"next",ArrowLeft:"prev"},Fullscreen:{autoStart:!1},compact:function(){return window.matchMedia("(max-width: 578px), (max-height: 578px)").matches},wheel:"zoom"};(Ie=_e||(_e={}))[Ie.Init=0]="Init",Ie[Ie.Ready=1]="Ready",Ie[Ie.Closing=2]="Closing",Ie[Ie.CustomClosing=3]="CustomClosing",Ie[Ie.Destroy=4]="Destroy",(Re=ze||(ze={}))[Re.Loading=0]="Loading",Re[Re.Opening=1]="Opening",Re[Re.Ready=2]="Ready",Re[Re.Closing=3]="Closing";var Ne=function(){queueMicrotask((function(){!function(){var e=We.parseURL(),t=e.slug,i=e.index,n=ft.getInstance();if(n&&!1!==n.option("Hash")){var a=n.carousel;if(t&&a){var o=!0,r=!1,s=void 0;try{for(var l,c=a.slides[Symbol.iterator]();!(o=(l=c.next()).done);o=!0){var u=l.value;if(u.slug&&u.slug===t)return a.slideTo(u.index)}}catch(e){r=!0,s=e}finally{try{o||null==c.return||c.return()}finally{if(r)throw s}}if(t===n.option("slug"))return a.slideTo(i-1);var h=n.getSlide(),d=h&&h.triggerEl&&h.triggerEl.dataset;if(d&&d.fancybox===t)return a.slideTo(i-1)}We.hasSilentClose=!0,n.close()}We.startFromUrl()}()}))},We=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"origHash",{enumerable:!0,configurable:!0,writable:!0,value:""}),Object.defineProperty(e(v)(t),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(M)(t)}return e(m)(n,[{key:"onChange",value:function(){var e=this.instance,t=e.carousel;this.timer&&clearTimeout(this.timer);var i=e.getSlide();if(t&&i){var n,a=e.isOpeningSlide(i),o=new URL(document.URL).hash,r=i.slug||void 0;!(n=r||this.instance.option("slug"))&&i.triggerEl&&i.triggerEl.dataset&&(n=i.triggerEl.dataset.fancybox);var s="";n&&"true"!==n&&(s="#"+n+(!r&&t.slides.length>1?"-"+(i.index+1):"")),a&&(this.origHash=o!==s?o:""),s&&o!==s&&(this.timer=setTimeout((function(){try{window.history[a?"pushState":"replaceState"]({},document.title,window.location.pathname+window.location.search+s)}catch(e){}}),300))}}},{key:"onClose",value:function(){if(this.timer&&clearTimeout(this.timer),!0!==n.hasSilentClose)try{window.history.replaceState({},document.title,window.location.pathname+window.location.search+(this.origHash||""))}catch(e){}}},{key:"attach",value:function(){this.instance.on("Carousel.ready",this.onChange),this.instance.on("Carousel.change",this.onChange),this.instance.on("close",this.onClose)}},{key:"detach",value:function(){this.instance.off("Carousel.ready",this.onChange),this.instance.off("Carousel.change",this.onChange),this.instance.off("close",this.onClose)}}],[{key:"parseURL",value:function(){var e=window.location.hash.slice(1),t=e.split("-"),i=t[t.length-1],n=i&&/^\+?\d+$/.test(i)&&parseInt(t.pop()||"1",10)||1;return{hash:e,slug:t.join("-"),index:n}}},{key:"startFromUrl",value:function(){if(n.hasSilentClose=!1,!ft.getInstance()&&!1!==ft.defaults.Hash){var e=n.parseURL(),t=e.hash,i=e.slug,a=e.index;if(i){var o=document.querySelector('[data-slug="'.concat(t,'"]'));if(o&&o.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})),!ft.getInstance()){var r=document.querySelectorAll('[data-fancybox="'.concat(i,'"]'));r.length&&((o=r[a-1])&&o.dispatchEvent(new CustomEvent("click",{bubbles:!0,cancelable:!0})))}}}}},{key:"destroy",value:function(){window.removeEventListener("hashchange",Ne,!1)}}]),n}(Pe);function qe(){window.addEventListener("hashchange",Ne,!1),setTimeout((function(){We.startFromUrl()}),500)}Object.defineProperty(We,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(We,"hasSilentClose",{enumerable:!0,configurable:!0,writable:!0,value:!1}),De&&(/complete|interactive|loaded/.test(document.readyState)?qe():document.addEventListener("DOMContentLoaded",qe));var Xe=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){return e(p)(this,n),i.apply(this,arguments)}return e(m)(n,[{key:"onCreateSlide",value:function(e,t,i){var n=this,a=this.instance,o=a.optionFor(i,"src")||"",r=i.el,s=i.type;r&&"image"===s&&"string"==typeof o&&this.setContent(i,o).then((function(e){var t=i.contentEl,o=i.imageEl,s=i.thumbElSrc;if(!a.isClosing()&&t&&o){t.offsetHeight;var l,c=!!a.isOpeningSlide(i)&&n.getZoomInfo(i);if(n.option("protected")){r.addEventListener("contextmenu",(function(e){e.preventDefault()}));var u=document.createElement("div");ve(u,"fancybox-protected"),t.appendChild(u)}if(s&&c){var h=n,d=e.contentRect,f=Math.max(d.fullWidth,d.fullHeight),v=null;!c.opacity&&f>1200&&(v=document.createElement("img"),ve(v,"fancybox-ghost"),v.src=s,t.appendChild(v));var p=function(){v&&(ve(v,"f-fadeFastOut"),setTimeout((function(){v&&(v.remove(),v=null)}),200))};(l=s,new Promise((function(e,t){var i=new Image;i.onload=e,i.onerror=t,i.src=l}))).then((function(){var e=h;i.state=ze.Opening,h.instance.emit("reveal",i),h.zoomIn(i).then((function(){p(),e.instance.done(i)}),(function(){a.hideLoading(i)})),v&&setTimeout((function(){p()}),f>2500?800:200)}),(function(){a.hideLoading(i),a.revealContent(i)}))}else{var m=n.optionFor(i,"initialSize"),g=n.optionFor(i,"zoom"),y={event:a.prevMouseMoveEvent||a.options.event,friction:g?.12:0},b=a.optionFor(i,"showClass")||void 0,w=!0;a.isOpeningSlide(i)&&("full"===m?e.zoomToFull(y):"cover"===m?e.zoomToCover(y):"max"===m?e.zoomToMax(y):w=!1,e.stop("current")),w&&b&&(b=e.isDragging?"f-fadeIn":""),a.revealContent(i,b)}}}),(function(){a.setError(i,"{{IMAGE_ERROR}}")}))}},{key:"onRemoveSlide",value:function(e,t,i){i.panzoom&&i.panzoom.destroy(),i.panzoom=void 0,i.imageEl=void 0}},{key:"onChange",value:function(e,t,i,n){var a=!0,o=!1,r=void 0;try{for(var s,l=t.slides[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,u=c.panzoom;u&&c.index!==i&&u.reset(.35)}}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}}},{key:"onClose",value:function(){var e=this.instance,t=e.container,i=e.getSlide();if(t&&t.parentElement&&i){var n=i.el,a=i.contentEl,o=i.panzoom,r=i.thumbElSrc;if(n&&r&&a&&o&&!o.isContentLoading&&o.state!==oe.Init&&o.state!==oe.Destroy){o.updateMetrics();var s=this.getZoomInfo(i);if(s){this.instance.state=_e.CustomClosing,t.classList.remove("is-zooming-in"),t.classList.add("is-zooming-out"),a.style.backgroundImage="url('".concat(r,"')");var l=t.getBoundingClientRect();Object.assign(t.style,{position:"absolute",top:"".concat(window.pageYOffset,"px"),left:"".concat(window.pageXOffset,"px"),bottom:"auto",right:"auto",width:"".concat(l.width,"px"),height:"".concat(l.height,"px"),overflow:"hidden"});var c,u,h=s.x,d=s.y,f=s.scale,v=s.opacity;if(v){var p=(c=o.scale,u=f-c,function(e){return 1+((e-c)/u*-1||0)});o.on("afterTransform",(function(){a.style.opacity=p(o.scale)+""}))}o.on("endAnimation",(function(){e.destroy()})),o.target.a=f,o.target.b=0,o.target.c=0,o.target.d=f,o.panTo({x:h,y:d,scale:f,friction:v?.2:.33,ignoreBounds:!0}),o.isResting&&e.destroy()}}}}},{key:"setContent",value:function(e,t){var i=this;return new Promise((function(n,a){var o,r,s=i.instance,l=e.el;if(l){s.showLoading(e);var c=i.optionFor(e,"content");"string"==typeof c&&(c=G(c)),c&&de(c)||((c=document.createElement("img"))instanceof HTMLImageElement&&(c.src=t||"",c.alt=(null===(o=e.caption)||void 0===o?void 0:o.replace(/<[^>]+>/gi,"").substring(0,1e3))||"Image ".concat(e.index+1," of ").concat(null===(r=s.carousel)||void 0===r?void 0:r.pages.length),c.draggable=!1,e.srcset&&c.setAttribute("srcset",e.srcset)),e.sizes&&c.setAttribute("sizes",e.sizes)),c.classList.add("fancybox-image"),e.imageEl=c,s.setContent(e,c,!1),e.panzoom=new ye(l,ie({},i.option("Panzoom")||{},{content:c,width:s.optionFor(e,"width","auto"),height:s.optionFor(e,"height","auto"),wheel:function(){var e=s.option("wheel");return("zoom"===e||"pan"==e)&&e},click:function(t,i){var n,a;if(s.isCompact||s.isClosing())return!1;if(e.index!==(null===(n=s.getSlide())||void 0===n?void 0:n.index))return!1;var o=!i||i.target&&(null===(a=e.contentEl)||void 0===a?void 0:a.contains(i.target));return s.option(o?"contentClick":"backdropClick")||!1},dblClick:function(){return s.isCompact?"toggleZoom":s.option("contentDblClick")||!1},spinner:!1,panOnlyZoomed:!0,wheelLimit:1/0,transformParent:!0,on:{ready:function(e){n(e)},error:function(){a()},destroy:function(){a()}}}))}else a()}))}},{key:"zoomIn",value:function(e){var t=this;return new Promise((function(i,n){var a=t.instance,o=a.container,r=e.panzoom,s=e.contentEl,l=e.el;r&&r.updateMetrics();var c=t.getZoomInfo(e);if(c&&l&&s&&r&&o){var u=c.x,h=c.y,d=c.scale,f=c.opacity,v=function(){e.state!==ze.Closing&&(f&&(s.style.opacity=Math.max(Math.min(1,1-(1-r.scale)/(1-d)),0)+""),r.scale>=1&&r.scale>r.targetScale-.1&&i(r))},p=function(e){fe(o,"is-zooming-in"),e.scale<.99||e.scale>1.01||(s.style.opacity="",e.off("endAnimation",p),e.off("touchStart",p),e.off("afterTransform",v),i(e))};r.on("endAnimation",p),r.on("touchStart",p),r.on("afterTransform",v),r.on(["error","destroy"],(function(){n()})),r.panTo({x:u,y:h,scale:d,friction:0,ignoreBounds:!0}),r.stop("current");var m={event:"mousemove"===r.panMode?a.prevMouseMoveEvent||a.options.event:void 0},g=t.optionFor(e,"initialSize");ve(o,"is-zooming-in"),a.hideLoading(e),"full"===g?r.zoomToFull(m):"cover"===g?r.zoomToCover(m):"max"===g?r.zoomToMax(m):r.reset(.172)}else n()}))}},{key:"getZoomInfo",value:function(e){var t=e.el,i=e.imageEl,n=e.thumbEl,a=e.panzoom;if(!t||!i||!n||!a||je(n)<3||!this.optionFor(e,"zoom")||this.instance.state===_e.Destroy)return!1;var o=n.getBoundingClientRect(),r=o.top,s=o.left,l=o.width,c=o.height,u=a.contentRect,h=u.top,d=u.left,f=u.fitWidth,v=u.fitHeight;if(!(l&&c&&f&&v))return!1;var p=l/f,m=a.container.getBoundingClientRect();h+=m.top;var g=-1*((d+=m.left)+.5*f-(s+.5*l)),y=-1*(h+.5*v-(r+.5*c)),b=this.option("zoomOpacity")||!1;return"auto"===b&&(b=Math.abs(l/c-f/v)>.1),{x:g,y:y,scale:p,opacity:b}}},{key:"attach",value:function(){this.instance.on("Carousel.change",this.onChange),this.instance.on("Carousel.createSlide",this.onCreateSlide),this.instance.on("Carousel.removeSlide",this.onRemoveSlide),this.instance.on("close",this.onClose)}},{key:"detach",value:function(){this.instance.off("Carousel.change",this.onChange),this.instance.off("Carousel.createSlide",this.onCreateSlide),this.instance.off("Carousel.removeSlide",this.onRemoveSlide),this.instance.off("close",this.onClose)}}]),n}(Pe);Object.defineProperty(Xe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{initialSize:"fit",Panzoom:{maxScale:1},protected:!1,zoom:!0,zoomOpacity:"auto"}});var Ye=function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=new URL(t),a=new URLSearchParams(n.search),o=new URLSearchParams,r=!0,s=!1,l=void 0;try{for(var c,u=e(z)(a).concat(e(z)(Object.entries(i)))[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var h=e(O)(c.value,2),d=h[0],f=h[1],v=f.toString();"t"===d?o.set("start",parseInt(v).toString()):o.set(d,v)}}catch(e){s=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(s)throw l}}var p=o.toString(),m=t.match(/#t=((.*)?\d+s)/);return m&&(p+="#t=".concat(m[1])),p},Ve=["image","html","ajax","inline","clone","iframe","map","pdf","html5video","youtube","vimeo","video"],Ge=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){return e(p)(this,n),i.apply(this,arguments)}return e(m)(n,[{key:"onInitSlide",value:function(e,t,i){this.processType(i)}},{key:"onCreateSlide",value:function(e,t,i){this.setContent(i)}},{key:"onRemoveSlide",value:function(e,t,i){i.closeBtnEl&&(i.closeBtnEl.remove(),i.closeBtnEl=void 0),i.xhr&&(i.xhr.abort(),i.xhr=null),i.iframeEl&&(i.iframeEl.onload=i.iframeEl.onerror=null,i.iframeEl.src="//about:blank",i.iframeEl=null);var n=i.contentEl,a=i.placeholderEl;if("inline"===i.type&&n&&a)n.classList.remove("fancybox__content"),"none"!==n.style.display&&(n.style.display="none"),a.parentNode&&a.parentNode.insertBefore(n,a),a.remove(),i.placeholderEl=null;else for(;i.el&&i.el.firstChild;)i.el.removeChild(i.el.firstChild)}},{key:"onSelectSlide",value:function(e,t,i){i.state===ze.Ready&&this.playVideo()}},{key:"onUnselectSlide",value:function(e,t,i){var n,a,o;if("html5video"!==i.type)"vimeo"===i.type?o={method:"pause",value:"true"}:"youtube"===i.type&&(o={event:"command",func:"pauseVideo"}),o&&i.iframeEl&&i.iframeEl.contentWindow&&i.iframeEl.contentWindow.postMessage(JSON.stringify(o),"*"),i.poller&&clearTimeout(i.poller);else try{null===(a=null===(n=i.el)||void 0===n?void 0:n.querySelector("video"))||void 0===a||a.pause()}catch(e){}}},{key:"onDone",value:function(e,t){e.isCurrentSlide(t)&&!e.isClosing()&&this.playVideo()}},{key:"onRefresh",value:function(e,t){var i=this;t.slides.forEach((function(e){e.el&&(i.setAspectRatio(e),i.resizeIframe(e))}))}},{key:"onMessage",value:function(e){try{var t=JSON.parse(e.data);if("https://player.vimeo.com"===e.origin){var i=!0,n=!1,a=void 0;if("ready"===t.event)try{for(var o,r=Array.from(document.getElementsByClassName("fancybox__iframe"))[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value;s instanceof HTMLIFrameElement&&s.contentWindow===e.source&&(s.dataset.ready="true")}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}}else if(e.origin.match(/^https:\/\/(www.)?youtube(-nocookie)?.com$/)&&"onReady"===t.event){var l=document.getElementById(t.id);l&&(l.dataset.ready="true")}}catch(e){}}},{key:"loadAjaxContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";this.instance.showLoading(e);var i=this.instance,n=new XMLHttpRequest;i.showLoading(e),n.onreadystatechange=function(){n.readyState===XMLHttpRequest.DONE&&i.state===_e.Ready&&(i.hideLoading(e),200===n.status?i.setContent(e,n.responseText):i.setError(e,404===n.status?"{{AJAX_NOT_FOUND}}":"{{AJAX_FORBIDDEN}}"))};var a=e.ajax||null;n.open(a?"POST":"GET",t+""),n.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n.send(a),e.xhr=n}},{key:"setInlineContent",value:function(e){var t=null;if(de(e.src))t=e.src;else if("string"==typeof e.src){var i=e.src.split("#",2).pop();t=i?document.getElementById(i):null}if(t){if("clone"===e.type||t.closest(".fancybox__slide")){var n=(t=t.cloneNode(!0)).dataset.animationName;n&&(t.classList.remove(n),delete t.dataset.animationName);var a=t.getAttribute("id");a=a?"".concat(a,"--clone"):"clone-".concat(this.instance.id,"-").concat(e.index),t.setAttribute("id",a)}else if(t.parentNode){var o=document.createElement("div");o.classList.add("fancybox-placeholder"),t.parentNode.insertBefore(o,t),e.placeholderEl=o}this.instance.setContent(e,t)}else this.instance.setError(e,"{{ELEMENT_NOT_FOUND}}")}},{key:"setIframeContent",value:function(t){var i=this,n=t.src,a=t.el;if(n&&"string"==typeof n&&a){var o=this.instance,r=document.createElement("iframe");r.className="fancybox__iframe",r.setAttribute("id","fancybox__iframe_".concat(o.id,"_").concat(t.index));var s=!0,l=!1,c=void 0;try{for(var u,h=Object.entries(this.optionFor(t,"iframeAttr")||{})[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=e(O)(u.value,2),f=d[0],v=d[1];r.setAttribute(f,v)}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}r.onerror=function(){o.setError(t,"{{IFRAME_ERROR}}")},t.iframeEl=r;var p=this.optionFor(t,"preload");if(a.classList.add("is-loading"),"iframe"!==t.type||!1===p)return r.setAttribute("src",t.src+""),this.resizeIframe(t),void o.setContent(t,r);o.showLoading(t),r.onload=function(){if(r.src.length){var e="true"!==r.dataset.ready;r.dataset.ready="true",i.resizeIframe(t),e?o.revealContent(t):o.hideLoading(t)}},r.setAttribute("src",n),o.setContent(t,r,!1)}}},{key:"resizeIframe",value:function(e){var t=e.iframeEl,i=null==t?void 0:t.parentElement;if(t&&i){var n=e.autoSize,a=e.width||0,o=e.height||0;a&&o&&(n=!1);var r=i&&i.style;if(!1!==e.preload&&!1!==n&&r)try{var s=window.getComputedStyle(i),l=parseFloat(s.paddingLeft)+parseFloat(s.paddingRight),c=parseFloat(s.paddingTop)+parseFloat(s.paddingBottom),u=t.contentWindow;if(u){var h=u.document,d=h.getElementsByTagName("html")[0],f=h.body;r.width="",f.style.overflow="hidden",a=a||d.scrollWidth+l,r.width="".concat(a,"px"),f.style.overflow="",r.flex="0 0 auto",r.height="".concat(f.scrollHeight,"px"),o=d.scrollHeight+c}}catch(e){}if(a||o){var v={flex:"0 1 auto",width:"",height:""};a&&(v.width="".concat(a,"px")),o&&(v.height="".concat(o,"px")),Object.assign(r,v)}}}},{key:"playVideo",value:function(){var e=this.instance.getSlide();if(e){var t=e.el;if(t&&t.offsetParent&&this.optionFor(e,"videoAutoplay")){if("html5video"===e.type)try{var i=t.querySelector("video");if(i){var n=i.play();void 0!==n&&n.then((function(){})).catch((function(e){i.muted=!0,i.play()}))}}catch(e){}if("youtube"===e.type||"vimeo"===e.type){var a=function(){if(e.iframeEl&&e.iframeEl.contentWindow){var t;if("true"===e.iframeEl.dataset.ready)return(t="youtube"===e.type?{event:"command",func:"playVideo"}:{method:"play",value:"true"})&&e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"),void(e.poller=void 0);"youtube"===e.type&&(t={event:"listening",id:e.iframeEl.getAttribute("id")},e.iframeEl.contentWindow.postMessage(JSON.stringify(t),"*"))}e.poller=setTimeout(a,250)};a()}}}}},{key:"processType",value:function(e){if(e.html)return e.type="html",e.src=e.html,void(e.html="");var t=this.instance.optionFor(e,"src","");if(t&&"string"==typeof t){var i=e.type,n=null;if(n=t.match(/(youtube\.com|youtu\.be|youtube\-nocookie\.com)\/(?:watch\?(?:.*&)?v=|v\/|u\/|embed\/?)?(videoseries\?list=(?:.*)|[\w-]{11}|\?listType=(?:.*)&list=(?:.*))(?:.*)/i)){var a=this.optionFor(e,"youtube"),o=a.nocookie,r=function(e,t){var i={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(i[n]=e[n]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(i[n[a]]=e[n[a]])}return i}(a,["nocookie"]),s="www.youtube".concat(o?"-nocookie":"",".com"),l=Ye(t,r),c=encodeURIComponent(n[2]);e.videoId=c,e.src="https://".concat(s,"/embed/").concat(c,"?").concat(l),e.thumbSrc=e.thumbSrc||"https://i.ytimg.com/vi/".concat(c,"/mqdefault.jpg"),i="youtube"}else if(n=t.match(/^.+vimeo.com\/(?:\/)?([\d]+)((\/|\?h=)([a-z0-9]+))?(.*)?/)){var u=Ye(t,this.optionFor(e,"vimeo")),h=encodeURIComponent(n[1]),d=n[4]||"";e.videoId=h,e.src="https://player.vimeo.com/video/".concat(h,"?").concat(d?"h=".concat(d).concat(u?"&":""):"").concat(u),i="vimeo"}if(!i&&e.triggerEl){var f=e.triggerEl.dataset.type;Ve.includes(f)&&(i=f)}i||"string"==typeof t&&("#"===t.charAt(0)?i="inline":(n=t.match(/\.(mp4|mov|ogv|webm)((\?|#).*)?$/i))?(i="html5video",e.videoFormat=e.videoFormat||"video/"+("ogv"===n[1]?"ogg":n[1])):t.match(/(^data:image\/[a-z0-9+\/=]*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp|svg|ico)((\?|#).*)?$)/i)?i="image":t.match(/\.(pdf)((\?|#).*)?$/i)?i="pdf":(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:(?:(?:maps\/(?:place\/(?:.*)\/)?\@(.*),(\d+.?\d+?)z))|(?:\?ll=))(.*)?/i))?(e.src="https://maps.google.".concat(n[1],"/?ll=").concat((n[2]?n[2]+"&z="+Math.floor(parseFloat(n[3]))+(n[4]?n[4].replace(/^\//,"&"):""):n[4]+"").replace(/\?/,"&"),"&output=").concat(n[4]&&n[4].indexOf("layer=c")>0?"svembed":"embed"),i="map"):(n=t.match(/(?:maps\.)?google\.([a-z]{2,3}(?:\.[a-z]{2})?)\/(?:maps\/search\/)(.*)/i))&&(e.src="https://maps.google.".concat(n[1],"/maps?q=").concat(n[2].replace("query=","q=").replace("api=1",""),"&output=embed"),i="map")),i=i||this.instance.option("defaultType"),e.type=i,"image"===i&&(e.thumbSrc=e.thumbSrc||e.src)}}},{key:"setContent",value:function(e){var t=this.instance.optionFor(e,"src")||"";if(e&&e.type&&t){switch(e.type){case"html":this.instance.setContent(e,t);break;case"html5video":var i=this.option("videoTpl");i&&this.instance.setContent(e,i.replace(/\{\{src\}\}/gi,t+"").replace(/\{\{format\}\}/gi,this.optionFor(e,"videoFormat")||"").replace(/\{\{poster\}\}/gi,e.poster||e.thumbSrc||""));break;case"inline":case"clone":this.setInlineContent(e);break;case"ajax":this.loadAjaxContent(e);break;case"pdf":case"map":case"youtube":case"vimeo":e.preload=!1;case"iframe":this.setIframeContent(e)}this.setAspectRatio(e)}}},{key:"setAspectRatio",value:function(e){var t,i=e.contentEl,n=this.optionFor(e,"videoRatio"),a=null===(t=e.el)||void 0===t?void 0:t.getBoundingClientRect();if(i&&a&&n&&1!==n&&e.type&&["video","youtube","vimeo","html5video"].includes(e.type)){var o=a.width,r=a.height;i.style.aspectRatio=n+"",i.style.width=o/r>n?"auto":"",i.style.height=o/r>n?"":"auto"}}},{key:"attach",value:function(){this.instance.on("Carousel.initSlide",this.onInitSlide),this.instance.on("Carousel.createSlide",this.onCreateSlide),this.instance.on("Carousel.removeSlide",this.onRemoveSlide),this.instance.on("Carousel.selectSlide",this.onSelectSlide),this.instance.on("Carousel.unselectSlide",this.onUnselectSlide),this.instance.on("Carousel.Panzoom.refresh",this.onRefresh),this.instance.on("done",this.onDone),window.addEventListener("message",this.onMessage)}},{key:"detach",value:function(){this.instance.off("Carousel.initSlide",this.onInitSlide),this.instance.off("Carousel.createSlide",this.onCreateSlide),this.instance.off("Carousel.removeSlide",this.onRemoveSlide),this.instance.off("Carousel.selectSlide",this.onSelectSlide),this.instance.off("Carousel.unselectSlide",this.onUnselectSlide),this.instance.off("Carousel.Panzoom.refresh",this.onRefresh),this.instance.off("done",this.onDone),window.removeEventListener("message",this.onMessage)}}]),n}(Pe);Object.defineProperty(Ge,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{ajax:null,autoSize:!0,preload:!0,iframeAttr:{allow:"autoplay; fullscreen",scrolling:"auto"},videoAutoplay:!0,videoRatio:16/9,videoTpl:'<video class="fancybox__html5video" playsinline controls controlsList="nodownload" poster="{{poster}}">\n  <source src="{{src}}" type="{{format}}" />Sorry, your browser doesn\'t support embedded videos.</video>',videoFormat:"",vimeo:{byline:1,color:"00adef",controls:1,dnt:1,muted:0},youtube:{controls:1,enablejsapi:1,nocookie:1,rel:0,fs:1}}});var Ze=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:"ready"}),Object.defineProperty(e(v)(t),"inHover",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(t),"timer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"progressBar",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(M)(t)}return e(m)(n,[{key:"isActive",get:function(){return"ready"!==this.state}},{key:"onReady",value:function(e){this.option("autoStart")&&(e.isInfinite||e.page<e.pages.length-1)&&this.start()}},{key:"onChange",value:function(){var e;(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)||(this.removeProgressBar(),this.pause())}},{key:"onSettle",value:function(){this.resume()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.resume():this.pause()}},{key:"onMouseEnter",value:function(){this.inHover=!0,this.pause()}},{key:"onMouseLeave",value:function(){var e;this.inHover=!1,(null===(e=this.instance.panzoom)||void 0===e?void 0:e.isResting)&&this.resume()}},{key:"onTimerEnd",value:function(){"play"===this.state&&(this.instance.isInfinite||this.instance.page!==this.instance.pages.length-1?this.instance.slideNext():this.instance.slideTo(0))}},{key:"removeProgressBar",value:function(){this.progressBar&&(this.progressBar.remove(),this.progressBar=null)}},{key:"createProgressBar",value:function(){var e;if(!this.option("showProgress"))return null;this.removeProgressBar();var t=this.instance,i=(null===(e=t.pages[t.page])||void 0===e?void 0:e.slides)||[],n=this.option("progressParentEl");if(n||(n=(1===i.length?i[0].el:null)||t.viewport),!n)return null;var a=document.createElement("div");return ve(a,"f-progress"),n.prepend(a),this.progressBar=a,a.offsetHeight,a}},{key:"set",value:function(){var e=this;if(!(this.instance.pages.length<2||this.progressBar)){var t=this.option("timeout");this.state="play",ve(this.instance.container,"has-autoplay");var i=this.createProgressBar();i&&(i.style.transitionDuration="".concat(t,"ms"),i.style.transform="scaleX(1)"),this.timer=setTimeout((function(){e.timer=null,e.inHover||e.onTimerEnd()}),t),this.emit("set")}}},{key:"clear",value:function(){this.timer&&(clearTimeout(this.timer),this.timer=null),this.removeProgressBar()}},{key:"start",value:function(){if(this.set(),this.option("pauseOnHover")){var e=this.instance.container;e.addEventListener("mouseenter",this.onMouseEnter,!1),e.addEventListener("mouseleave",this.onMouseLeave,!1)}document.addEventListener("visibilitychange",this.onVisibilityChange,!1)}},{key:"stop",value:function(){var e=this.instance.container;this.clear(),this.state="ready",e.removeEventListener("mouseenter",this.onMouseEnter,!1),e.removeEventListener("mouseleave",this.onMouseLeave,!1),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),fe(e,"has-autoplay"),this.emit("stop")}},{key:"pause",value:function(){"play"===this.state&&(this.state="pause",this.clear(),this.emit("pause"))}},{key:"resume",value:function(){var e=this.instance;if(e.isInfinite||e.page!==e.pages.length-1)if("play"!==this.state){if("pause"===this.state&&!this.inHover){var t=new Event("resume",{bubbles:!0,cancelable:!0});this.emit("resume",event),t.defaultPrevented||this.set()}}else this.set();else this.stop()}},{key:"toggle",value:function(){"play"===this.state||"pause"===this.state?this.stop():this.set()}},{key:"attach",value:function(){this.instance.on("ready",this.onReady),this.instance.on("Panzoom.startAnimation",this.onChange),this.instance.on("Panzoom.endAnimation",this.onSettle),this.instance.on("Panzoom.touchMove",this.onChange)}},{key:"detach",value:function(){this.instance.off("ready",this.onReady),this.instance.off("Panzoom.startAnimation",this.onChange),this.instance.off("Panzoom.endAnimation",this.onSettle),this.instance.off("Panzoom.touchMove",this.onChange),this.stop()}}]),n}(Pe);Object.defineProperty(Ze,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{autoStart:!0,pauseOnHover:!0,progressParentEl:null,showProgress:!0,timeout:3e3}});var Ue=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(M)(t)}return e(m)(n,[{key:"onPrepare",value:function(e){var t=e.carousel;if(t){var i=e.container;i&&(t.options.Autoplay=ie(this.option("Autoplay")||{},{pauseOnHover:!1,autoStart:!1,timeout:this.option("timeout"),progressParentEl:function(){return i.querySelector(".fancybox__toolbar [data-fancybox-toggle-slideshow]")||i},on:{set:function(t){var n;i.classList.add("has-slideshow"),(null===(n=e.getSlide())||void 0===n?void 0:n.state)!==ze.Ready&&t.pause()},stop:function(){i.classList.remove("has-slideshow"),e.isCompact||e.endIdle()},resume:function(t,i){var n,a,o;!i||!i.cancelable||(null===(n=e.getSlide())||void 0===n?void 0:n.state)===ze.Ready&&(null===(o=null===(a=e.carousel)||void 0===a?void 0:a.panzoom)||void 0===o?void 0:o.isResting)||i.preventDefault()}}}),t.attachPlugins({Autoplay:Ze}),this.ref=t.plugins.Autoplay)}}},{key:"onReady",value:function(e){var t=e.carousel,i=this.ref;t&&i&&this.option("playOnStart")&&(t.isInfinite||t.page<t.pages.length-1)&&i.start()}},{key:"onDone",value:function(e,t){var i=this.ref;if(i){var n=t.panzoom;n&&n.on("startAnimation",(function(){e.isCurrentSlide(t)&&i.stop()})),e.isCurrentSlide(t)&&i.resume()}}},{key:"onKeydown",value:function(e,t){var i,n=this.ref;n&&t===this.option("key")&&"BUTTON"!==(null===(i=document.activeElement)||void 0===i?void 0:i.nodeName)&&n.toggle()}},{key:"attach",value:function(){this.instance.on("Carousel.init",this.onPrepare),this.instance.on("Carousel.ready",this.onReady),this.instance.on("done",this.onDone),this.instance.on("keydown",this.onKeydown)}},{key:"detach",value:function(){this.instance.off("Carousel.init",this.onPrepare),this.instance.off("Carousel.ready",this.onReady),this.instance.off("done",this.onDone),this.instance.off("keydown",this.onKeydown)}}]),n}(Pe);Object.defineProperty(Ue,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{key:" ",playOnStart:!1,timeout:3e3}});var Ke,Je,$e={classes:{container:"f-thumbs f-carousel__thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide",isResting:"is-resting",isSelected:"is-selected",isLoading:"is-loading",hasThumbs:"has-thumbs"},minCount:2,parentEl:null,thumbTpl:'<button class="f-thumbs__slide__button" tabindex="0" type="button" aria-label="{{GOTO}}" data-carousel-index="%i"><img class="f-thumbs__slide__img" data-lazy-src="{{%s}}" alt="" /></button>',type:"modern"};(Je=Ke||(Ke={}))[Je.Init=0]="Init",Je[Je.Ready=1]="Ready",Je[Je.Hidden=2]="Hidden",Je[Je.Disabled=3]="Disabled";var Qe=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"type",{enumerable:!0,configurable:!0,writable:!0,value:"modern"}),Object.defineProperty(e(v)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"track",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"panzoom",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"thumbWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(t),"thumbClipWidth",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(t),"thumbHeight",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(t),"thumbGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(t),"thumbExtraGap",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(t),"shouldCenter",{enumerable:!0,configurable:!0,writable:!0,value:!0}),Object.defineProperty(e(v)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:Ke.Init}),e(M)(t)}return e(m)(n,[{key:"formatThumb",value:function(e,t){return this.instance.localize(t,[["%i",e.index],["%d",e.index+1],["%s",e.thumbSrc||"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7"]])}},{key:"getSlides",value:function(){var e=[],t=this.option("thumbTpl")||"",i=!0,n=!1,a=void 0;if(t)try{for(var o,r=(this.instance.slides||[])[Symbol.iterator]();!(i=(o=r.next()).done);i=!0){var s=o.value,l="";s.type&&(l="for-".concat(s.type),s.type&&["video","youtube","vimeo","html5video"].includes(s.type)&&(l+=" for-video")),e.push({html:this.formatThumb(s,t),customClass:l})}}catch(e){n=!0,a=e}finally{try{i||null==r.return||r.return()}finally{if(n)throw a}}return e}},{key:"onInitSlide",value:function(e,t){var i=t.el;i&&(t.thumbSrc=i.dataset.thumbSrc||t.thumbSrc||"",t.thumbClipWidth=parseFloat(i.dataset.thumbClipWidth||"")||t.thumbClipWidth||0,t.thumbHeight=parseFloat(i.dataset.thumbHeight||"")||t.thumbHeight||0)}},{key:"onInitSlides",value:function(){this.state===Ke.Init&&this.build()}},{key:"onRefreshM",value:function(){this.refreshModern()}},{key:"onChangeM",value:function(){"modern"===this.type&&(this.shouldCenter=!0,this.centerModern())}},{key:"onClickModern",value:function(e){e.preventDefault(),e.stopPropagation();var t,i,n,a=this.instance,o=a.page,r=function(e){if(e){var t=e.closest("[data-carousel-index]");if(t)return parseInt(t.dataset.carouselIndex||"",10)||0}return-1},s=function(e,t){var i=document.elementFromPoint(e,t);return i?r(i):-1},l=r(e.target);l<0&&((l=s(e.clientX+this.thumbGap,e.clientY))===o&&(l=o-1)),l<0&&((l=s(e.clientX-this.thumbGap,e.clientY))===o&&(l=o+1)),l<0&&(t=this.thumbExtraGap,i=s(e.clientX-t,e.clientY),n=s(e.clientX+t,e.clientY),l<0&&i===o&&(l=o+1),l<0&&n===o&&(l=o-1)),l===o?this.centerModern():l>-1&&l<a.pages.length&&a.slideTo(l)}},{key:"onTransformM",value:function(){if("modern"===this.type){var e=this,t=e.instance,i=e.container,n=e.track,a=t.panzoom;if(i&&n&&a&&this.panzoom){U(i,this.cn("isResting"),a.state!==oe.Init&&a.isResting);var o=this.thumbGap,r=this.thumbExtraGap,s=this.thumbClipWidth,l=0,c=0,u=0,h=!0,d=!1,f=void 0;try{for(var v,p=t.slides[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var m=v.value,g=m.index,y=m.thumbSlideEl;if(y){U(y,this.cn("isSelected"),g===t.page),c=1-Math.abs(t.getProgress(g)),y.style.setProperty("--progress",c?c+"":"");var b=.5*((m.thumbWidth||0)-s);l+=o,l+=b,c&&(l-=c*(b+r)),y.style.setProperty("--shift",l-o+""),l+=b,c&&(l-=c*(b+r)),l-=o,0===g&&(u=r*c)}}}catch(e){d=!0,f=e}finally{try{h||null==p.return||p.return()}finally{if(d)throw f}}n&&(n.style.setProperty("--left",u+""),n.style.setProperty("--width",l+u+o+r*c+"")),this.shouldCenter&&this.centerModern()}}}},{key:"buildClassic",value:function(){var e=this,t=this.container,i=this.track,n=this.getSlides();if(t&&i&&n){var a=new this.instance.constructor(t,ie({track:i,infinite:!1,center:!0,fill:!0,dragFree:!0,slidesPerPage:1,transition:!1,Dots:!1,Navigation:!1,Sync:{},classes:{container:"f-thumbs",viewport:"f-thumbs__viewport",track:"f-thumbs__track",slide:"f-thumbs__slide"}},this.option("Carousel")||{},{Sync:{target:this.instance},slides:n}));this.carousel=a,this.track=i,a.on("ready",(function(){e.emit("ready")}))}}},{key:"buildModern",value:function(){var e=this;if("modern"===this.type){var t=this,i=t.container,n=t.track,a=t.instance,o=this.option("thumbTpl")||"";if(i&&n&&o){ve(i,"is-horizontal"),this.updateModern();var r=!0,s=!1,l=void 0;try{for(var c,u=(a.slides||[])[Symbol.iterator]();!(r=(c=u.next()).done);r=!0){var h=c.value,d=document.createElement("div");if(ve(d,this.cn("slide")),h.type){var f="for-".concat(h.type);["video","youtube","vimeo","html5video"].includes(h.type)&&(f+=" for-video"),ve(d,f)}d.appendChild(G(this.formatThumb(h,o))),h.thumbSlideEl=d,n.appendChild(d),this.resizeModernSlide(h)}}catch(e){s=!0,l=e}finally{try{r||null==u.return||u.return()}finally{if(s)throw l}}var v=new a.constructor.Panzoom(i,{content:n,lockAxis:"x",zoom:!1,panOnlyZoomed:!1,bounds:function(){var t=0,i=0,n=a.slides[0],o=a.slides[a.slides.length-1],r=a.slides[a.page];return n&&o&&r&&(i=-1*e.getModernThumbPos(0),0!==a.page&&(i+=.5*(n.thumbWidth||0)),t=-1*e.getModernThumbPos(a.slides.length-1),a.page!==a.slides.length-1&&(t+=(o.thumbWidth||0)-(r.thumbWidth||0)-.5*(o.thumbWidth||0))),{x:{min:t,max:i},y:{min:0,max:0}}}});v.on("touchStart",(function(t,i){e.shouldCenter=!1})),v.on("click",(function(t,i){return e.onClickModern(i)})),v.on("ready",(function(){e.centerModern(),e.emit("ready")})),v.on(["afterTransform","refresh"],(function(t){e.lazyLoadModern()})),this.panzoom=v,this.refreshModern()}}}},{key:"updateModern",value:function(){if("modern"===this.type){var e=this.container;e&&(this.thumbGap=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-gap"))||0,this.thumbExtraGap=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-extra-gap"))||0,this.thumbWidth=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-width"))||40,this.thumbClipWidth=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-clip-width"))||40,this.thumbHeight=parseFloat(getComputedStyle(e).getPropertyValue("--f-thumb-height"))||40)}}},{key:"refreshModern",value:function(){var e;if("modern"===this.type){this.updateModern();var t=!0,i=!1,n=void 0;try{for(var a,o=(this.instance.slides||[])[Symbol.iterator]();!(t=(a=o.next()).done);t=!0){var r=a.value;this.resizeModernSlide(r)}}catch(e){i=!0,n=e}finally{try{t||null==o.return||o.return()}finally{if(i)throw n}}this.onTransformM(),null===(e=this.panzoom)||void 0===e||e.updateMetrics(!0),this.centerModern(0)}}},{key:"centerModern",value:function(e){var t=this.instance,i=this.container,n=this.panzoom;if(i&&n&&n.state!==oe.Init){for(var a=t.page,o=this.getModernThumbPos(a),r=o,s=t.page-3;s<t.page+3;s++)if(!(s<0||s>t.pages.length-1||s===t.page)){var l=1-Math.abs(t.getProgress(s));l>0&&l<1&&(r+=l*(this.getModernThumbPos(s)-o))}var c=100;void 0===e&&(e=.2,t.inTransition.size>0&&(e=.12),Math.abs(-1*n.current.e-r)>n.containerRect.width&&(e=.5,c=0)),n.options.maxVelocity=c,n.applyChange({panX:X(-1*r-n.target.e,1e3),friction:null===t.prevPage?0:e})}}},{key:"lazyLoadModern",value:function(){var e=this.instance,t=this.panzoom;if(t){var i=-1*t.current.e||0,n=this.getModernThumbPos(e.page),a=!0,o=!1,r=void 0;if(t.state!==oe.Init||0===n)try{for(var s,l=this,c=function(e,n){var a=n.value,o=l,r=a.thumbSlideEl;if(!r)return"continue";var s=r.querySelector("img[data-lazy-src]"),c=a.index,u=l.getModernThumbPos(c),h=i-.5*t.containerRect.innerWidth,d=h+t.containerRect.innerWidth;if(!s||u<h||u>d)return"continue";var f=s.dataset.lazySrc;if(!f||!f.length)return"continue";if(delete s.dataset.lazySrc,s.src=f,s.complete)return"continue";ve(r,l.cn("isLoading"));var v=G(he);r.appendChild(v),s.addEventListener("load",(function(){r.offsetParent&&(r.classList.remove(o.cn("isLoading")),v.remove())}),!1)},u=(e.slides||[])[Symbol.iterator]();!(a=(s=u.next()).done);a=!0)c(0,s)}catch(e){o=!0,r=e}finally{try{a||null==u.return||u.return()}finally{if(o)throw r}}}}},{key:"resizeModernSlide",value:function(e){if("modern"===this.type&&e.thumbSlideEl){var t=e.thumbClipWidth&&e.thumbHeight?Math.round(this.thumbHeight*(e.thumbClipWidth/e.thumbHeight)):this.thumbWidth;e.thumbWidth=t}}},{key:"getModernThumbPos",value:function(e){var t=this.instance.slides[e],i=this.panzoom;if(!i||!i.contentRect.fitWidth)return 0;var n=i.containerRect.innerWidth,a=i.contentRect.width;2===this.instance.slides.length&&(e-=1,a=2*this.thumbClipWidth);var o=e*(this.thumbClipWidth+this.thumbGap)+this.thumbExtraGap+.5*(t.thumbWidth||0);return X((o-=a>n?.5*n:.5*a)||0,1)}},{key:"build",value:function(){var e=this.instance,t=e.container,i=this.option("minCount")||0;if(i){var n=0,a=!0,o=!1,r=void 0;try{for(var s,l=(e.slides||[])[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){s.value.thumbSrc&&n++}}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}if(n<i)return this.cleanup(),void(this.state=Ke.Disabled)}var c=this.option("type");if(["modern","classic"].indexOf(c)<0)this.state=Ke.Disabled;else{this.type=c;var u=document.createElement("div");ve(u,this.cn("container")),ve(u,"is-".concat(c));var h=this.option("parentEl");h?h.appendChild(u):t.after(u),this.container=u,ve(t,this.cn("hasThumbs"));var d=document.createElement("div");ve(d,this.cn("track")),u.appendChild(d),this.track=d,"classic"===c?this.buildClassic():this.buildModern(),this.state=Ke.Ready,u.addEventListener("click",(function(t){setTimeout((function(){var t;null===(t=null==u?void 0:u.querySelector('[data-carousel-index="'.concat(e.page,'"]')))||void 0===t||t.focus()}),100)}))}}},{key:"cleanup",value:function(){this.carousel&&this.carousel.destroy(),this.carousel=null,this.panzoom&&this.panzoom.destroy(),this.panzoom=null,this.container&&this.container.remove(),this.container=null,this.track=null,this.state=Ke.Init,fe(this.instance.container,this.cn("hasThumbs"))}},{key:"attach",value:function(){var e=this.instance;e.on("initSlide",this.onInitSlide),e.state===be.Init?e.on("initSlides",this.onInitSlides):this.onInitSlides(),e.on("Panzoom.afterTransform",this.onTransformM),e.on("Panzoom.refresh",this.onRefreshM),e.on("change",this.onChangeM)}},{key:"detach",value:function(){var e=this.instance;e.off("initSlide",this.onInitSlide),e.off("initSlides",this.onInitSlides),e.off("Panzoom.afterTransform",this.onTransformM),e.off("Panzoom.refresh",this.onRefreshM),e.off("change",this.onChangeM),this.cleanup()}}]),n}(Pe);Object.defineProperty(Qe,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:$e});var et=Object.assign(Object.assign({},$e),{key:"t",showOnStart:!0,parentEl:null}),tt=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"ref",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"hidden",{enumerable:!0,configurable:!0,writable:!0,value:!1}),e(M)(t)}return e(m)(n,[{key:"isEnabled",get:function(){var e=this.ref;return e&&e.state!==Ke.Disabled}},{key:"isHidden",get:function(){return this.hidden}},{key:"onInit",value:function(){var e=this,t=this.instance,i=t.carousel;if(!this.ref&&i){var n=this.option("parentEl")||t.footer||t.container;n&&(i.options.Thumbs=ie({},this.options,{parentEl:n,classes:{container:"f-thumbs fancybox__thumbs"},Carousel:{Sync:{friction:t.option("Carousel.friction")},on:{click:function(e,t){t.stopPropagation()}}},on:{ready:function(t){var i=e,n=t.container;n&&e.hidden&&(e.refresh(),n.style.transition="none",e.hide(),n.offsetHeight,queueMicrotask((function(){n.style.transition="",i.show()})))}}}),i.attachPlugins({Thumbs:Qe}),this.ref=i.plugins.Thumbs,this.option("showOnStart")||(this.ref.state=Ke.Hidden,this.hidden=!0))}}},{key:"onResize",value:function(){var e,t=null===(e=this.ref)||void 0===e?void 0:e.container;t&&(t.style.maxHeight="")}},{key:"onKeydown",value:function(e,t){var i=this.option("key");i&&i===t&&this.toggle()}},{key:"toggle",value:function(){var e=this.ref;e&&e.state!==Ke.Disabled&&(e.state!==Ke.Hidden?this.hidden?this.show():this.hide():e.build())}},{key:"show",value:function(){var e=this.ref,t=e&&e.state!==Ke.Disabled&&e.container;t&&(this.refresh(),t.offsetHeight,t.removeAttribute("aria-hidden"),t.classList.remove("is-hidden"),this.hidden=!1)}},{key:"hide",value:function(){var e=this.ref,t=e&&e.container;t&&(this.refresh(),t.offsetHeight,t.classList.add("is-hidden"),t.setAttribute("aria-hidden","true")),this.hidden=!0}},{key:"refresh",value:function(){var e=this.ref;if(e&&e.state!==Ke.Disabled){var t=e.container,i=(null==t?void 0:t.firstChild)||null;t&&i&&i.childNodes.length&&(t.style.maxHeight="".concat(i.getBoundingClientRect().height,"px"))}}},{key:"attach",value:function(){this.instance.state===_e.Init?this.instance.on("Carousel.init",this.onInit):this.onInit(),this.instance.on("resize",this.onResize),this.instance.on("keydown",this.onKeydown)}},{key:"detach",value:function(){var e;this.instance.off("Carousel.init",this.onInit),this.instance.off("resize",this.onResize),this.instance.off("keydown",this.onKeydown),null===(e=this.instance.carousel)||void 0===e||e.detachPlugins(["Thumbs"]),this.ref=null}}]),n}(Pe);Object.defineProperty(tt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:et});var it,nt,at={panLeft:{icon:'<svg><path d="M5 12h14M5 12l6 6M5 12l6-6"/></svg>',change:{panX:-100}},panRight:{icon:'<svg><path d="M5 12h14M13 18l6-6M13 6l6 6"/></svg>',change:{panX:100}},panUp:{icon:'<svg><path d="M12 5v14M18 11l-6-6M6 11l6-6"/></svg>',change:{panY:-100}},panDown:{icon:'<svg><path d="M12 5v14M18 13l-6 6M6 13l6 6"/></svg>',change:{panY:100}},zoomIn:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M11 8v6M8 11h6"/></svg>',action:"zoomIn"},zoomOut:{icon:'<svg><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"zoomOut"},toggle1to1:{icon:'<svg><path d="M3.51 3.07c5.74.02 11.48-.02 17.22.02 1.37.1 2.34 1.64 2.18 3.13 0 4.08.02 8.16 0 12.23-.1 1.54-1.47 2.64-2.79 2.46-5.61-.01-11.24.02-16.86-.01-1.36-.12-2.33-1.65-2.17-3.14 0-4.07-.02-8.16 0-12.23.1-1.36 1.22-2.48 2.42-2.46Z"/><path d="M5.65 8.54h1.49v6.92m8.94-6.92h1.49v6.92M11.5 9.4v.02m0 5.18v0"/></svg>',action:"toggleZoom"},toggleZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"toggleZoom"},iterateZoom:{icon:'<svg><g><line x1="11" y1="8" x2="11" y2="14"></line></g><circle cx="11" cy="11" r="7.5"/><path d="m21 21-4.35-4.35M8 11h6"/></svg>',action:"iterateZoom"},rotateCCW:{icon:'<svg><path d="M15 4.55a8 8 0 0 0-6 14.9M9 15v5H4M18.37 7.16v.01M13 19.94v.01M16.84 18.37v.01M19.37 15.1v.01M19.94 11v.01"/></svg>',action:"rotateCCW"},rotateCW:{icon:'<svg><path d="M9 4.55a8 8 0 0 1 6 14.9M15 15v5h5M5.63 7.16v.01M4.06 11v.01M4.63 15.1v.01M7.16 18.37v.01M11 19.94v.01"/></svg>',action:"rotateCW"},flipX:{icon:'<svg style="stroke-width: 1.3"><path d="M12 3v18M16 7v10h5L16 7M8 7v10H3L8 7"/></svg>',action:"flipX"},flipY:{icon:'<svg style="stroke-width: 1.3"><path d="M3 12h18M7 16h10L7 21v-5M7 8h10L7 3v5"/></svg>',action:"flipY"},fitX:{icon:'<svg><path d="M4 12V6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v6M10 18H3M21 18h-7M6 15l-3 3 3 3M18 15l3 3-3 3"/></svg>',action:"fitX"},fitY:{icon:'<svg><path d="M12 20H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h6M18 14v7M18 3v7M15 18l3 3 3-3M15 6l3-3 3 3"/></svg>',action:"fitY"},reset:{icon:'<svg><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>',action:"reset"},toggleFS:{icon:'<svg><g><path d="M14.5 9.5 21 3m0 0h-6m6 0v6M3 21l6.5-6.5M3 21v-6m0 6h6"/></g><g><path d="m14 10 7-7m-7 7h6m-6 0V4M3 21l7-7m0 0v6m0-6H4"/></g></svg>',action:"toggleFS"}};(nt=it||(it={}))[nt.Init=0]="Init",nt[nt.Ready=1]="Ready",nt[nt.Disabled=2]="Disabled";var ot={tabindex:"-1",width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},rt=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t;return e(p)(this,n),t=i.call.apply(i,[this].concat(Array.prototype.slice.call(arguments))),Object.defineProperty(e(v)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:it.Init}),Object.defineProperty(e(v)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),e(M)(t)}return e(m)(n,[{key:"onReady",value:function(t){var i;if(t.carousel){var n=this.option("display"),a=this.option("absolute"),o=this.option("enabled");if("auto"===o){var r=this.instance.carousel,s=0,l=!0,c=!1,u=void 0;if(r)try{for(var h,d=r.slides[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;(f.panzoom||"image"===f.type)&&s++}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}s||(o=!1)}o||(n=void 0);var v=0,p={left:[],middle:[],right:[]},m=!0,g=!1,y=void 0,b=!0,w=!1,x=void 0;if(n)try{for(var k,S=["left","middle","right"][Symbol.iterator]();!(b=(k=S.next()).done);b=!0){var E=k.value;try{for(var P,M=n[E][Symbol.iterator]();!(m=(P=M.next()).done);m=!0){var T=P.value,C=this.createEl(T);C&&(null===(i=p[E])||void 0===i||i.push(C),v++)}}catch(e){g=!0,y=e}finally{try{m||null==M.return||M.return()}finally{if(g)throw y}}}}catch(e){w=!0,x=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw x}}var A=null;if(v&&(A=this.createContainer()),A){var L=!0,_=!1,z=void 0;try{for(var R,I=Object.entries(p)[Symbol.iterator]();!(L=(R=I.next()).done);L=!0){var j=e(O)(R.value,2),D=j[0],F=j[1],H=document.createElement("div");ve(H,"fancybox__toolbar__column is-"+D);var B=!0,N=!1,W=void 0;try{for(var q,X=F[Symbol.iterator]();!(B=(q=X.next()).done);B=!0){var Y=q.value;H.appendChild(Y)}}catch(e){N=!0,W=e}finally{try{B||null==X.return||X.return()}finally{if(N)throw W}}"auto"!==a||"middle"!==D||F.length||(a=!0),A.appendChild(H)}}catch(e){_=!0,z=e}finally{try{L||null==I.return||I.return()}finally{if(_)throw z}}!0===a&&ve(A,"is-absolute"),this.state=it.Ready,this.onRefresh()}else this.state=it.Disabled}}},{key:"onClick",value:function(e){var t,i,n=this.instance,a=n.getSlide(),o=null==a?void 0:a.panzoom,r=e.target,s=r&&de(r)?r.dataset:null;if(s){if(void 0!==s.fancyboxToggleThumbs)return e.preventDefault(),e.stopPropagation(),void(null===(t=n.plugins.Thumbs)||void 0===t||t.toggle());if(void 0!==s.fancyboxToggleFullscreen)return e.preventDefault(),e.stopPropagation(),void this.instance.toggleFullscreen();if(void 0!==s.fancyboxToggleSlideshow){e.preventDefault(),e.stopPropagation();var l=null===(i=n.carousel)||void 0===i?void 0:i.plugins.Autoplay,c=l.isActive;return o&&"mousemove"===o.panMode&&!c&&o.reset(),void(c?l.stop():l.start())}var u=s.panzoomAction,h=s.panzoomChange;if((h||u)&&(e.preventDefault(),e.stopPropagation()),h){var d={};try{d=JSON.parse(h)}catch(e){}o&&o.applyChange(d)}else u&&o&&o[u]&&o[u]()}}},{key:"onChange",value:function(){this.onRefresh()}},{key:"onRefresh",value:function(){if(!this.instance.isClosing()){var e=this.container;if(e){var t=this.instance.getSlide();if(t&&t.state===ze.Ready){var i=t&&!t.error&&t.panzoom,n=!0,a=!1,o=void 0;try{for(var r,s=e.querySelectorAll("[data-panzoom-action]")[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){var l=r.value;i?(l.removeAttribute("disabled"),l.removeAttribute("tabindex")):(l.setAttribute("disabled",""),l.setAttribute("tabindex","-1"))}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}var c=i&&i.canZoomIn(),u=i&&i.canZoomOut(),h=!0,d=!1,f=void 0;try{for(var v,p=e.querySelectorAll('[data-panzoom-action="zoomIn"]')[Symbol.iterator]();!(h=(v=p.next()).done);h=!0){var m=v.value;c?(m.removeAttribute("disabled"),m.removeAttribute("tabindex")):(m.setAttribute("disabled",""),m.setAttribute("tabindex","-1"))}}catch(e){d=!0,f=e}finally{try{h||null==p.return||p.return()}finally{if(d)throw f}}var g=!0,y=!1,b=void 0;try{for(var w,x=e.querySelectorAll('[data-panzoom-action="zoomOut"]')[Symbol.iterator]();!(g=(w=x.next()).done);g=!0){var k=w.value;u?(k.removeAttribute("disabled"),k.removeAttribute("tabindex")):(k.setAttribute("disabled",""),k.setAttribute("tabindex","-1"))}}catch(e){y=!0,b=e}finally{try{g||null==x.return||x.return()}finally{if(y)throw b}}var S=!0,E=!1,P=void 0;try{for(var M,O=e.querySelectorAll('[data-panzoom-action="toggleZoom"],[data-panzoom-action="iterateZoom"]')[Symbol.iterator]();!(S=(M=O.next()).done);S=!0){var T=M.value;u||c?(T.removeAttribute("disabled"),T.removeAttribute("tabindex")):(T.setAttribute("disabled",""),T.setAttribute("tabindex","-1"));var C=T.querySelector("g");C&&(C.style.display=c?"":"none")}}catch(e){E=!0,P=e}finally{try{S||null==O.return||O.return()}finally{if(E)throw P}}}}}}},{key:"onDone",value:function(e,t){var i,n=this;null===(i=t.panzoom)||void 0===i||i.on("afterTransform",(function(){n.instance.isCurrentSlide(t)&&n.onRefresh()})),this.instance.isCurrentSlide(t)&&this.onRefresh()}},{key:"createContainer",value:function(){var e=this.instance.container;if(!e)return null;var t=this.option("parentEl")||e,i=document.createElement("div");return ve(i,"fancybox__toolbar"),t.prepend(i),i.addEventListener("click",this.onClick,{passive:!1,capture:!0}),e&&ve(e,"has-toolbar"),this.container=i,i}},{key:"createEl",value:function(t){var i,n=this.instance.carousel;if(!n)return null;if("toggleFS"===t)return null;if("fullscreen"===t&&!this.instance.fsAPI)return null;var a=null,o=n.slides.length||0,r=0,s=0,l=!0,c=!1,u=void 0;try{for(var h,d=n.slides[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;(f.panzoom||"image"===f.type)&&r++,("image"===f.type||f.downloadSrc)&&s++}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}if(o<2&&["infobar","prev","next"].includes(t))return a;if(void 0!==at[t]&&!r)return null;if("download"===t&&!s)return null;if("thumbs"===t){var v=this.instance.plugins.Thumbs;if(!v||!v.isEnabled)return null}if("slideshow"===t&&(!(null===(i=this.instance.carousel)||void 0===i?void 0:i.plugins.Autoplay)||o<2))return null;if(void 0!==at[t]){var p=at[t];(a=document.createElement("button")).setAttribute("title",this.instance.localize("{{".concat(t.toUpperCase(),"}}"))),ve(a,"f-button"),p.action&&(a.dataset.panzoomAction=p.action),p.change&&(a.dataset.panzoomChange=JSON.stringify(p.change)),a.appendChild(G(this.instance.localize(p.icon)))}else{var m=this,g=(this.option("items")||[])[t];g&&(a=G(this.instance.localize(g.tpl)),"function"==typeof g.click&&a.addEventListener("click",(function(e){e.preventDefault(),e.stopPropagation(),"function"==typeof g.click&&g.click.call(m,m,e)})))}var y=null==a?void 0:a.querySelector("svg"),b=!0,w=!1,x=void 0;if(y)try{for(var k,S=Object.entries(ot)[Symbol.iterator]();!(b=(k=S.next()).done);b=!0){var E=e(O)(k.value,2),P=E[0],M=E[1];y.getAttribute(P)||y.setAttribute(P,String(M))}}catch(e){w=!0,x=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw x}}return a}},{key:"removeContainer",value:function(){var e=this.container;e&&e.remove(),this.container=null,this.state=it.Disabled;var t=this.instance.container;t&&fe(t,"has-toolbar")}},{key:"attach",value:function(){var e=this,t=e.instance;t.on("Carousel.initSlides",e.onReady),t.on("done",e.onDone),t.on("reveal",e.onChange),t.on("Carousel.change",e.onChange),e.onReady(e.instance)}},{key:"detach",value:function(){var e=this,t=e.instance;t.off("Carousel.initSlides",e.onReady),t.off("done",e.onDone),t.off("reveal",e.onChange),t.off("Carousel.change",e.onChange),e.removeContainer()}}]),n}(Pe);Object.defineProperty(rt,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:{absolute:"auto",display:{left:["infobar"],middle:[],right:["iterateZoom","slideshow","fullscreen","thumbs","close"]},enabled:"auto",items:{infobar:{tpl:'<div class="fancybox__infobar" tabindex="-1"><span data-fancybox-current-index></span>/<span data-fancybox-count></span></div>'},download:{tpl:'<a class="f-button" title="{{DOWNLOAD}}" data-fancybox-download href="javasript:;"><svg><path d="M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-2M7 11l5 5 5-5M12 4v12"/></svg></a>'},prev:{tpl:'<button class="f-button" title="{{PREV}}" data-fancybox-prev><svg><path d="m15 6-6 6 6 6"/></svg></button>'},next:{tpl:'<button class="f-button" title="{{NEXT}}" data-fancybox-next><svg><path d="m9 6 6 6-6 6"/></svg></button>'},slideshow:{tpl:'<button class="f-button" title="{{TOGGLE_SLIDESHOW}}" data-fancybox-toggle-slideshow><svg><g><path d="M8 4v16l13 -8z"></path></g><g><path d="M8 4v15M17 4v15"/></g></svg></button>'},fullscreen:{tpl:'<button class="f-button" title="{{TOGGLE_FULLSCREEN}}" data-fancybox-toggle-fullscreen><svg><g><path d="M4 8V6a2 2 0 0 1 2-2h2M4 16v2a2 2 0 0 0 2 2h2M16 4h2a2 2 0 0 1 2 2v2M16 20h2a2 2 0 0 0 2-2v-2"/></g><g><path d="M15 19v-2a2 2 0 0 1 2-2h2M15 5v2a2 2 0 0 0 2 2h2M5 15h2a2 2 0 0 1 2 2v2M5 9h2a2 2 0 0 0 2-2V5"/></g></svg></button>'},thumbs:{tpl:'<button class="f-button" title="{{TOGGLE_THUMBS}}" data-fancybox-toggle-thumbs><svg><circle cx="5.5" cy="5.5" r="1"/><circle cx="12" cy="5.5" r="1"/><circle cx="18.5" cy="5.5" r="1"/><circle cx="5.5" cy="12" r="1"/><circle cx="12" cy="12" r="1"/><circle cx="18.5" cy="12" r="1"/><circle cx="5.5" cy="18.5" r="1"/><circle cx="12" cy="18.5" r="1"/><circle cx="18.5" cy="18.5" r="1"/></svg></button>'},close:{tpl:'<button class="f-button" title="{{CLOSE}}" data-fancybox-close><svg><path d="m19.5 4.5-15 15M4.5 4.5l15 15"/></svg></button>'}},parentEl:null}});var st={Hash:We,Html:Ge,Images:Xe,Slideshow:Ue,Thumbs:tt,Toolbar:rt},lt=function(){var e=window.getSelection();return e&&"Range"===e.type},ct=null,ut=null,ht=new Map,dt=0,ft=function(t){"use strict";e(E)(n,t);var i=e(H)(n);function n(){var t,a,o,r,s,l=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e(p)(this,n),t=i.call(this,c),Object.defineProperty(e(v)(t),"userSlides",{enumerable:!0,configurable:!0,writable:!0,value:[]}),Object.defineProperty(e(v)(t),"userPlugins",{enumerable:!0,configurable:!0,writable:!0,value:{}}),Object.defineProperty(e(v)(t),"idle",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(t),"idleTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"clickTimer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"pwt",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(t),"ignoreFocusChange",{enumerable:!0,configurable:!0,writable:!0,value:!1}),Object.defineProperty(e(v)(t),"state",{enumerable:!0,configurable:!0,writable:!0,value:_e.Init}),Object.defineProperty(e(v)(t),"id",{enumerable:!0,configurable:!0,writable:!0,value:0}),Object.defineProperty(e(v)(t),"container",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"footer",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"caption",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"carousel",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"lastFocus",{enumerable:!0,configurable:!0,writable:!0,value:null}),Object.defineProperty(e(v)(t),"prevMouseMoveEvent",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(e(v)(t),"fsAPI",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),t.fsAPI=(o="",r="",s="",document.fullscreenEnabled?(o="requestFullscreen",r="exitFullscreen",s="fullscreenElement"):document.webkitFullscreenEnabled&&(o="webkitRequestFullscreen",r="webkitExitFullscreen",s="webkitFullscreenElement"),o&&(a={request:function(e){return"webkitRequestFullscreen"===o?e[o](Element.ALLOW_KEYBOARD_INPUT):e[o]()},exit:function(){return document[s]&&document[r]()},isFullscreen:function(){return document[s]}}),a),t.id=c.id||++dt,ht.set(t.id,e(v)(t)),t.userSlides=l,t.userPlugins=u,queueMicrotask((function(){t.init()})),e(M)(t)}return e(m)(n,[{key:"isIdle",get:function(){return this.idle}},{key:"isCompact",get:function(){return this.option("compact")}},{key:"init",value:function(){var e=this;if(this.state!==_e.Destroy){this.state=_e.Init,this.attachPlugins(Object.assign(Object.assign({},n.Plugins),this.userPlugins)),this.emit("init"),!0===this.option("hideScrollbar")&&function(){if(De){var e=document.body;if(!e.classList.contains("hide-scrollbar")){var t=window.innerWidth-document.documentElement.getBoundingClientRect().width,i=e.currentStyle||window.getComputedStyle(e),n=parseFloat(i.marginRight);document.documentElement.style.setProperty("--fancybox-scrollbar-compensate","".concat(t,"px")),n&&e.style.setProperty("--fancybox-body-margin","".concat(n,"px")),e.classList.add("hide-scrollbar")}}}(),this.initLayout();var t=function(){var t=e;e.initCarousel(e.userSlides),e.state=_e.Ready,e.attachEvents(),e.emit("ready"),setTimeout((function(){t.container&&t.container.setAttribute("aria-hidden","false")}),16)};this.option("Fullscreen.autoStart")&&this.fsAPI&&!this.fsAPI.isFullscreen()?this.fsAPI.request(this.container).then((function(){return t()})).catch((function(){return t()})):t()}}},{key:"initLayout",value:function(){var e,t,i=this,n=this.option("parentEl")||document.body,a=G(this.localize(this.option("tpl.main")||""));a&&(a.setAttribute("id","fancybox-".concat(this.id)),a.setAttribute("aria-label",this.localize("{{MODAL}}")),a.classList.toggle("is-compact",this.isCompact),ve(a,this.option("mainClass")||""),this.container=a,this.footer=a.querySelector(".fancybox__footer"),n.appendChild(a),ve(document.documentElement,"with-fancybox"),ct&&ut||(ct=document.createElement("span"),ve(ct,"fancybox-focus-guard"),ct.setAttribute("tabindex","0"),ct.setAttribute("aria-hidden","true"),ct.setAttribute("aria-label","Focus guard"),ut=ct.cloneNode(),null===(e=a.parentElement)||void 0===e||e.insertBefore(ct,a),null===(t=a.parentElement)||void 0===t||t.append(ut)),this.option("animated")&&(ve(a,"is-animated"),setTimeout((function(){i.isClosing()||fe(a,"is-animated")}),350)),this.emit("initLayout"))}},{key:"initCarousel",value:function(t){var i=this,n=this.container;if(n){var a=n.querySelector(".fancybox__carousel");if(a){var o=this.carousel=new Ae(a,ie({},{slides:t,transition:"fade",Panzoom:{lockAxis:this.option("dragToClose")?"xy":"x",infinite:!!this.option("dragToClose")&&"y"},Dots:!1,Navigation:{classes:{container:"fancybox__nav",button:"f-button",isNext:"is-next",isPrev:"is-prev"}},initialPage:this.option("startIndex"),l10n:this.option("l10n")},this.option("Carousel")||{}));o.on("*",(function(t,n){for(var a=arguments.length,o=new Array(a>2?a-2:0),r=2;r<a;r++)o[r-2]=arguments[r];i.emit.apply(i,["Carousel.".concat(n),t].concat(e(z)(o)))})),o.on(["ready","change"],(function(){var e,t=i.getSlide();t&&(null===(e=t.panzoom)||void 0===e||e.updateControls()),i.manageCaption(t)})),o.on("removeSlide",(function(e,t){t.closeBtnEl&&t.closeBtnEl.remove(),t.closeBtnEl=void 0,t.captionEl&&t.captionEl.remove(),t.captionEl=void 0,t.spinnerEl&&t.spinnerEl.remove(),t.spinnerEl=void 0,t.state=void 0})),o.on("Panzoom.touchStart",(function(){i.isCompact||i.endIdle()})),o.on("settle",(function(){i.idleTimer||i.isCompact||!i.option("idle")||i.setIdle(),i.option("autoFocus")&&i.checkFocus()})),this.option("dragToClose")&&(o.on("Panzoom.afterTransform",(function(e,t){var n=i.getSlide();if(!n||!Y(n.el)){var a=i.container;if(a){var o=Math.abs(t.current.f),r=o<1?"":Math.max(.5,Math.min(1,1-o/t.contentRect.fitHeight*1.5));a.style.setProperty("--fancybox-ts",r?"0s":""),a.style.setProperty("--fancybox-opacity",r+"")}}})),o.on("Panzoom.touchEnd",(function(e,t,n){var a,o=i.getSlide();if(!(o&&Y(o.el)||t.isMobile&&document.activeElement&&-1!==["TEXTAREA","INPUT"].indexOf(null===(a=document.activeElement)||void 0===a?void 0:a.nodeName))){var r=Math.abs(t.dragOffset.y);"y"===t.lockedAxis&&(r>=200||r>=50&&t.dragOffset.time<300)&&(n&&n.cancelable&&n.preventDefault(),i.close(n,"f-throwOut"+(t.current.f<0?"Up":"Down")))}}))),o.on(["change"],(function(e){var t,n=null===(t=i.getSlide())||void 0===t?void 0:t.triggerEl;if(n){var a=new CustomEvent("slideTo",{bubbles:!0,cancelable:!0,detail:e.page});n.dispatchEvent(a)}})),o.on(["refresh","change"],(function(e){var t=i.container;if(t){var n=!0,a=!1,o=void 0;try{for(var r,s=t.querySelectorAll("[data-fancybox-current-index]")[Symbol.iterator]();!(n=(r=s.next()).done);n=!0){r.value.innerHTML=e.page+1}}catch(e){a=!0,o=e}finally{try{n||null==s.return||s.return()}finally{if(a)throw o}}var l=!0,c=!1,u=void 0;try{for(var h,d=t.querySelectorAll("[data-fancybox-count]")[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){h.value.innerHTML=e.pages.length}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}if(!e.isInfinite){var f=!0,v=!1,p=void 0;try{for(var m,g=t.querySelectorAll("[data-fancybox-next]")[Symbol.iterator]();!(f=(m=g.next()).done);f=!0){var y=m.value;e.page<e.pages.length-1?(y.removeAttribute("disabled"),y.removeAttribute("tabindex")):(y.setAttribute("disabled",""),y.setAttribute("tabindex","-1"))}}catch(e){v=!0,p=e}finally{try{f||null==g.return||g.return()}finally{if(v)throw p}}var b=!0,w=!1,x=void 0;try{for(var k,S=t.querySelectorAll("[data-fancybox-prev]")[Symbol.iterator]();!(b=(k=S.next()).done);b=!0){var E=k.value;e.page>0?(E.removeAttribute("disabled"),E.removeAttribute("tabindex")):(E.setAttribute("disabled",""),E.setAttribute("tabindex","-1"))}}catch(e){w=!0,x=e}finally{try{b||null==S.return||S.return()}finally{if(w)throw x}}}var P=i.getSlide();if(P){var M=P.downloadSrc||"";M||"image"!==P.type||P.error||"string"!=typeof P.src||(M=P.src);var O=!0,T=!1,C=void 0;try{for(var A,L=t.querySelectorAll("[data-fancybox-download]")[Symbol.iterator]();!(O=(A=L.next()).done);O=!0){var _=A.value,z=P.downloadFilename;M?(_.removeAttribute("disabled"),_.removeAttribute("tabindex"),_.setAttribute("href",M),_.setAttribute("download",z||M),_.setAttribute("target","_blank")):(_.setAttribute("disabled",""),_.setAttribute("tabindex","-1"),_.removeAttribute("href"),_.removeAttribute("download"))}}catch(e){T=!0,C=e}finally{try{O||null==L.return||L.return()}finally{if(T)throw C}}}}})),this.emit("initCarousel")}}}},{key:"attachEvents",value:function(){var e=this.container;e&&(e.addEventListener("click",this.onClick,{passive:!1,capture:!1}),e.addEventListener("wheel",this.onWheel,{passive:!1,capture:!1}),document.addEventListener("keydown",this.onKeydown,{passive:!1,capture:!0}),document.addEventListener("visibilitychange",this.onVisibilityChange,!1),document.addEventListener("mousemove",this.onMousemove),this.option("trapFocus")&&document.addEventListener("focus",this.onFocus,!0),window.addEventListener("resize",this.onResize))}},{key:"detachEvents",value:function(){var e=this.container;e&&(document.removeEventListener("keydown",this.onKeydown,{passive:!1,capture:!0}),e.removeEventListener("wheel",this.onWheel,{passive:!1,capture:!1}),e.removeEventListener("click",this.onClick,{passive:!1,capture:!1}),document.removeEventListener("mousemove",this.onMousemove),window.removeEventListener("resize",this.onResize),document.removeEventListener("visibilitychange",this.onVisibilityChange,!1),document.removeEventListener("focus",this.onFocus,!0))}},{key:"onClick",value:function(e){var t,i,n=this,a=this.container,o=this.isCompact;if(a&&!this.isClosing()){!o&&this.option("idle")&&this.resetIdle();var r=document.activeElement;if(!(lt()&&r&&a.contains(r))){var s=e.composedPath()[0];if(s!==(null===(t=this.carousel)||void 0===t?void 0:t.container)){if(s.closest(".f-spinner")||s.closest("[data-fancybox-close]"))return e.preventDefault(),void this.close(e);if(s.closest("[data-fancybox-prev]"))return e.preventDefault(),void this.prev();if(s.closest("[data-fancybox-next]"))return e.preventDefault(),void this.next();if(o&&"image"===(null===(i=this.getSlide())||void 0===i?void 0:i.type))this.clickTimer?(clearTimeout(this.clickTimer),this.clickTimer=null):this.clickTimer=setTimeout((function(){n.toggleIdle(),n.clickTimer=null}),350);else if(this.emit("click",e),!e.defaultPrevented){var l=!1;if(s.closest(".fancybox__content")){if(r){if(r.closest("[contenteditable]"))return;s.matches(Fe)||r.blur()}if(lt())return;l=this.option("contentClick")}else s.closest(".fancybox__carousel")&&!s.matches(Fe)&&(l=this.option("backdropClick"));"close"===l?(e.preventDefault(),this.close(e)):"next"===l?(e.preventDefault(),this.next()):"prev"===l&&(e.preventDefault(),this.prev())}}}}}},{key:"onWheel",value:function(e){var t=this.option("wheel",e),i="slide"===t,n=[-e.deltaX||0,-e.deltaY||0,-e.detail||0].reduce((function(e,t){return Math.abs(t)>Math.abs(e)?t:e})),a=Math.max(-1,Math.min(1,n)),o=Date.now();this.pwt&&o-this.pwt<300?i&&e.preventDefault():(this.pwt=o,this.emit("wheel",e),e.defaultPrevented||("close"===t?(e.preventDefault(),this.close(e)):"slide"===t&&(e.preventDefault(),this[a>0?"prev":"next"]())))}},{key:"onKeydown",value:function(e){if(this.isTopmost()){this.isCompact||!this.option("idle")||this.isClosing()||this.resetIdle();var t=e.key,i=this.option("keyboard");if(i&&!e.ctrlKey&&!e.altKey&&!e.shiftKey){var n=e.composedPath()[0],a=document.activeElement&&document.activeElement.classList,o=a&&a.contains("f-button")||n.dataset.carouselPage||n.dataset.carouselIndex;if("Escape"===t||o||!de(n)||!n.isContentEditable&&-1===["TEXTAREA","OPTION","INPUT","SELECT","VIDEO"].indexOf(n.nodeName)){this.emit("keydown",t,e);var r=i[t];"function"==typeof this[r]&&(e.preventDefault(),this[r]())}}}}},{key:"onResize",value:function(){var e=this.container;if(e){var t=this.isCompact;e.classList.toggle("is-compact",t),this.manageCaption(this.getSlide()),this.isCompact?this.clearIdle():this.endIdle(),this.emit("resize")}}},{key:"onFocus",value:function(e){this.isTopmost()&&this.checkFocus(e)}},{key:"onMousemove",value:function(e){this.prevMouseMoveEvent=e,!this.isCompact&&this.option("idle")&&this.resetIdle()}},{key:"onVisibilityChange",value:function(){"visible"===document.visibilityState?this.checkFocus():this.endIdle()}},{key:"manageCloseBtn",value:function(e){var t=this.optionFor(e,"closeButton")||!1;if("auto"===t){var i=this.plugins.Toolbar;if(i&&i.state===it.Ready)return}if(t&&e.contentEl&&!e.closeBtnEl){var n=this.option("tpl.closeButton");if(n){var a=G(this.localize(n));e.closeBtnEl=e.contentEl.appendChild(a),e.el&&ve(e.el,"has-close-btn")}}}},{key:"manageCaption",value:function(e){var t,i,n=this,a="fancybox__caption",o="has-caption",r=this.container;if(r){var s=this.isCompact||this.option("commonCaption"),l=!s,c=!0,u=!1,h=void 0;if(this.caption&&this.stop(this.caption),l&&this.caption&&(this.caption.remove(),this.caption=null),s&&!this.caption)try{for(var d,f=((null===(t=this.carousel)||void 0===t?void 0:t.slides)||[])[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){var v=d.value;v.captionEl&&(v.captionEl.remove(),v.captionEl=void 0,fe(v.el,o),null===(i=v.el)||void 0===i||i.removeAttribute("aria-labelledby"))}}catch(e){u=!0,h=e}finally{try{c||null==f.return||f.return()}finally{if(u)throw h}}if(e||(e=this.getSlide()),e&&(!s||this.isCurrentSlide(e))){var p=e.el,m=this.optionFor(e,"caption","");if("string"==typeof m&&m.length){var g=null;if(l){if(g=e.captionEl||null,p&&!g){var y="fancybox__caption_".concat(this.id,"_").concat(e.index);g=document.createElement("div"),ve(g,a),g.setAttribute("id",y),e.captionEl=p.appendChild(g),ve(p,o),p.setAttribute("aria-labelledby",y)}}else(g=this.caption)||(g=r.querySelector("."+a)),g||((g=document.createElement("div")).dataset.fancyboxCaption="",ve(g,a),g.innerHTML=m,(this.footer||r).prepend(g)),ve(r,o),this.caption=g;g&&(g.innerHTML=m)}else s&&this.caption&&this.animate(this.caption,"f-fadeOut",(function(){var e;null===(e=n.caption)||void 0===e||e.remove(),n.caption=null}))}}}},{key:"checkFocus",value:function(e){var t,i=document.activeElement||null;i&&(null===(t=this.container)||void 0===t?void 0:t.contains(i))||this.focus(e)}},{key:"focus",value:function(e){var t;if(!this.ignoreFocusChange){var i=document.activeElement||null,n=(null==e?void 0:e.target)||null,a=this.container,o=this.getSlide();if(a&&(null===(t=this.carousel)||void 0===t?void 0:t.viewport)&&(e||!i||!a.contains(i))){var r=o&&o.state===ze.Ready?o.el:null;if(r&&!r.contains(i)&&a!==i){e&&e.cancelable&&e.preventDefault(),this.ignoreFocusChange=!0;var s=Array.from(a.querySelectorAll(Fe)),l=[],c=null,u=!0,h=!1,d=void 0;try{for(var f,v=s[Symbol.iterator]();!(u=(f=v.next()).done);u=!0){var p=f.value,m=!p.offsetParent||p.closest('[aria-hidden="true"]'),g=r&&r.contains(p),y=!this.carousel.viewport.contains(p);p===a||(g||y)&&!m?(l.push(p),void 0!==p.dataset.origTabindex&&(p.tabIndex=parseFloat(p.dataset.origTabindex)),p.removeAttribute("data-orig-tabindex"),!p.hasAttribute("autoFocus")&&c||(c=p)):(p.dataset.origTabindex=void 0===p.dataset.origTabindex?p.getAttribute("tabindex")||void 0:p.dataset.origTabindex,p.tabIndex=-1)}}catch(e){h=!0,d=e}finally{try{u||null==v.return||v.return()}finally{if(h)throw d}}var b=null;e?(!n||l.indexOf(n)<0)&&(b=c||a,l.length&&(i===ut?b=l[0]:this.lastFocus!==a&&i!==ct||(b=l[l.length-1]))):b=o&&"image"===o.type?a:c||a,b&&He(b),this.lastFocus=document.activeElement,this.ignoreFocusChange=!1}}}}},{key:"next",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slideNext()}},{key:"prev",value:function(){var e=this.carousel;e&&e.pages.length>1&&e.slidePrev()}},{key:"jumpTo",value:function(){for(var t=arguments.length,i=new Array(t),n=0;n<t;n++)i[n]=arguments[n];var a;this.carousel&&(a=this.carousel).slideTo.apply(a,e(z)(i))}},{key:"isTopmost",value:function(){var e;return(null===(e=n.getInstance())||void 0===e?void 0:e.id)==this.id}},{key:"animate",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2?arguments[2]:void 0;if(e&&t){this.stop(e);var n=function(a){a.target===e&&e.dataset.animationName&&(e.removeEventListener("animationend",n),delete e.dataset.animationName,i&&i(),fe(e,t))};e.dataset.animationName=t,e.addEventListener("animationend",n),ve(e,t)}else i&&i()}},{key:"stop",value:function(e){e&&e.dispatchEvent(new CustomEvent("animationend",{bubbles:!1,cancelable:!0,currentTarget:e}))}},{key:"setContent",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!this.isClosing()){var n=e.el;if(n){var a=null;if(de(t)?a=t:(a=G(t+""),de(a)||((a=document.createElement("div")).innerHTML=t+"")),["img","picture","iframe","video","audio"].includes(a.nodeName.toLowerCase())){var o=document.createElement("div");o.appendChild(a),a=o}de(a)&&e.filter&&!e.error&&(a=a.querySelector(e.filter)),a&&de(a)?(ve(a,"fancybox__content"),e.id&&a.setAttribute("id",e.id),"none"!==a.style.display&&"none"!==getComputedStyle(a).getPropertyValue("display")||(a.style.display=e.display||this.option("defaultDisplay")||"flex"),n.classList.add("has-".concat(e.error?"error":e.type||"unknown")),n.prepend(a),e.contentEl=a,i&&this.revealContent(e),this.manageCloseBtn(e),this.manageCaption(e)):this.setError(e,"{{ELEMENT_NOT_FOUND}}")}}}},{key:"revealContent",value:function(e,t){var i=this,n=e.el,a=e.contentEl;n&&a&&(this.emit("reveal",e),this.hideLoading(e),e.state=ze.Opening,(t=this.isOpeningSlide(e)?void 0===t?this.optionFor(e,"showClass"):t:"f-fadeIn")?this.animate(a,t,(function(){i.done(e)})):this.done(e))}},{key:"done",value:function(e){var t=this;this.isClosing()||(e.state=ze.Ready,this.emit("done",e),ve(e.el,"is-done"),this.isCurrentSlide(e)&&this.option("autoFocus")&&queueMicrotask((function(){t.option("autoFocus")&&(t.option("autoFocus")?t.focus():t.checkFocus())})),this.isOpeningSlide(e)&&!this.isCompact&&this.option("idle")&&this.setIdle())}},{key:"isCurrentSlide",value:function(e){var t=this.getSlide();return!(!e||!t)&&t.index===e.index}},{key:"isOpeningSlide",value:function(e){var t,i;return null===(null===(t=this.carousel)||void 0===t?void 0:t.prevPage)&&e.index===(null===(i=this.getSlide())||void 0===i?void 0:i.index)}},{key:"showLoading",value:function(e){var t=this;e.state=ze.Loading;var i=e.el;i&&(ve(i,"is-loading"),this.emit("loading",e),e.spinnerEl||setTimeout((function(){if(!t.isClosing()&&!e.spinnerEl&&e.state===ze.Loading){var n=G(he);e.spinnerEl=n,i.prepend(n),t.animate(n,"f-fadeIn")}}),250))}},{key:"hideLoading",value:function(e){var t=e.el;if(t){var i=e.spinnerEl;this.isClosing()?null==i||i.remove():(fe(t,"is-loading"),i&&this.animate(i,"f-fadeOut",(function(){i.remove()})),e.state===ze.Loading&&(this.emit("loaded",e),e.state=ze.Ready))}}},{key:"setError",value:function(e,t){if(!this.isClosing()){this.emit("error"),e.error=t,this.hideLoading(e),this.clearContent(e);var i=document.createElement("div");i.classList.add("fancybox-error"),i.innerHTML=this.localize(t||"<p>{{ERROR}}</p>"),this.setContent(e,i)}}},{key:"clearContent",value:function(e){var t;null===(t=this.carousel)||void 0===t||t.emit("removeSlide",e),e.contentEl&&(e.contentEl.remove(),e.contentEl=void 0),e.closeBtnEl&&(e.closeBtnEl.remove(),e.closeBtnEl=void 0);var i=e.el;i&&(fe(i,"is-loading"),fe(i,"has-error"),fe(i,"has-unknown"),fe(i,"has-".concat(e.type||"unknown")))}},{key:"getSlide",value:function(){var e,t=this.carousel;return(null===(e=null==t?void 0:t.pages[null==t?void 0:t.page])||void 0===e?void 0:e.slides[0])||void 0}},{key:"close",value:function(e,t){var i=this;if(!this.isClosing()){var n=new Event("shouldClose",{bubbles:!0,cancelable:!0});if(this.emit("shouldClose",n,e),!n.defaultPrevented){e&&e.cancelable&&(e.preventDefault(),e.stopPropagation());var a=this.fsAPI,o=function(){i.proceedClose(e,t)};a&&a.isFullscreen()?Promise.resolve(a.exit()).then((function(){return o()})):o()}}}},{key:"clearIdle",value:function(){this.idleTimer&&clearTimeout(this.idleTimer),this.idleTimer=null}},{key:"setIdle",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this,i=function(){t.clearIdle(),t.idle=!0,ve(t.container,"is-idle"),t.emit("setIdle")};if(this.clearIdle(),!this.isClosing())if(e)i();else{var n=this.option("idle");n&&(this.idleTimer=setTimeout(i,n))}}},{key:"endIdle",value:function(){this.clearIdle(),this.idle&&!this.isClosing()&&(this.idle=!1,fe(this.container,"is-idle"),this.emit("endIdle"))}},{key:"resetIdle",value:function(){this.endIdle(),this.setIdle()}},{key:"toggleIdle",value:function(){this.idle?this.endIdle():this.setIdle(!0)}},{key:"toggleFullscreen",value:function(){var e=this.fsAPI;e&&(e.isFullscreen()?e.exit():this.container&&e.request(this.container))}},{key:"isClosing",value:function(){return[_e.Closing,_e.CustomClosing,_e.Destroy].includes(this.state)}},{key:"proceedClose",value:function(e,t){var i,n=this;this.state=_e.Closing,this.clearIdle(),this.detachEvents();var a=this.container,o=this.carousel,r=this.getSlide(),s=r&&this.option("placeFocusBack")?r.triggerEl||this.option("trigger"):null;if(s&&(je(s)?He(s):s.focus()),a&&(ve(a,"is-closing"),a.setAttribute("aria-hidden","true"),this.option("animated")&&ve(a,"is-animated"),a.style.pointerEvents="none"),o){o.clearTransitions(),null===(i=o.panzoom)||void 0===i||i.destroy();var l=!0,c=!1,u=void 0;try{for(var h,d=o.slides[Symbol.iterator]();!(l=(h=d.next()).done);l=!0){var f=h.value;f.state=ze.Closing,this.hideLoading(f);var v=f.contentEl;v&&this.stop(v);var p=null==f?void 0:f.panzoom;p&&(p.stop(),p.detachEvents(),p.detachObserver()),this.isCurrentSlide(f)||o.emit("removeSlide",f)}}catch(e){c=!0,u=e}finally{try{l||null==d.return||d.return()}finally{if(c)throw u}}}this.emit("close",e),this.state!==_e.CustomClosing?(void 0===t&&r&&(t=this.optionFor(r,"hideClass")),t&&r?(this.animate(r.contentEl,t,(function(){o&&o.emit("removeSlide",r)})),setTimeout((function(){n.destroy()}),500)):this.destroy()):setTimeout((function(){n.destroy()}),500)}},{key:"destroy",value:function(){var e;if(this.state!==_e.Destroy){this.state=_e.Destroy,null===(e=this.carousel)||void 0===e||e.destroy();var t=this.container;t&&t.remove(),ht.delete(this.id);var i=n.getInstance();i?i.focus():(ct&&(ct.remove(),ct=null),ut&&(ut.remove(),ut=null),fe(document.documentElement,"with-fancybox"),function(){if(De){var e=document,t=e.body;t.classList.remove("hide-scrollbar"),t.style.setProperty("--fancybox-body-margin",""),e.documentElement.style.setProperty("--fancybox-scrollbar-compensate","")}}(),this.emit("destroy"))}}}],[{key:"bind",value:function(e,t,i){if(De){var a,o="",r={};if(void 0===e?a=document.body:"string"==typeof e?(a=document.body,o=e,"object"==typeof t&&(r=t||{})):(a=e,"string"==typeof t&&(o=t),"object"==typeof i&&(r=i||{})),a&&de(a)){o=o||"[data-fancybox]";var s=n.openers.get(a)||new Map;s.set(o,r),n.openers.set(a,s),1===s.size&&a.addEventListener("click",n.fromEvent)}}}},{key:"unbind",value:function(e,t){var i,a="";if("string"==typeof e?(i=document.body,a=e):(i=e,"string"==typeof t&&(a=t)),i){var o=n.openers.get(i);o&&a&&o.delete(a),a&&o||(n.openers.delete(i),i.removeEventListener("click",n.fromEvent))}}},{key:"destroy",value:function(){for(var e;e=n.getInstance();)e.destroy();var t=!0,i=!1,a=void 0;try{for(var o,r=n.openers.keys()[Symbol.iterator]();!(t=(o=r.next()).done);t=!0){o.value.removeEventListener("click",n.fromEvent)}}catch(e){i=!0,a=e}finally{try{t||null==r.return||r.return()}finally{if(i)throw a}}n.openers=new Map}},{key:"fromEvent",value:function(t){if(!t.defaultPrevented&&!(t.button&&0!==t.button||t.ctrlKey||t.metaKey||t.shiftKey)){var i,a,o,r,s=t.composedPath()[0],l=s.closest("[data-fancybox-trigger]");if(l){var c=l.dataset.fancyboxTrigger||"",u=document.querySelectorAll('[data-fancybox="'.concat(c,'"]')),h=parseInt(l.dataset.fancyboxIndex||"",10)||0;s=u[h]||s}if(s&&s instanceof Element)if(e(z)(n.openers).reverse().find((function(t){var n=e(O)(t,2),l=n[0],c=n[1];return!(!l.contains(s)||!e(z)(c).reverse().find((function(t){var n=e(O)(t,2),c=n[0],u=n[1],h=s.closest(c);return!!h&&(i=l,a=c,o=h,r=u,!0)})))})),i&&a&&o){r=r||{},t.preventDefault(),s=o;var d=[],f=ie({},Be,r);f.event=t,f.trigger=s,f.delegate=l;var v=f.groupAll,p=f.groupAttr,m=p&&s?s.getAttribute("".concat(p)):"";if((!s||m||v)&&(d=[].slice.call(i.querySelectorAll(a))),s&&!v&&(d=m?d.filter((function(e){return e.getAttribute("".concat(p))===m})):[s]),d.length){var g=n.getInstance();return g&&g.options.trigger&&d.indexOf(g.options.trigger)>-1?void 0:(s&&(f.startIndex=d.indexOf(s)),n.fromNodes(d,f))}}}}},{key:"fromSelector",value:function(e,t){var i=null,a="";if("string"==typeof e?(i=document.body,a=e):e instanceof HTMLElement&&"string"==typeof t&&(i=e,a=t),!i||!a)return!1;var o=n.openers.get(i);if(!o)return!1;var r=o.get(a);return!!r&&n.fromNodes(Array.from(i.querySelectorAll(a)),r)}},{key:"fromNodes",value:function(e,t){t=ie({},Be,t||{});var i=[],a=!0,o=!1,r=void 0;try{for(var s,l=e[Symbol.iterator]();!(a=(s=l.next()).done);a=!0){var c=s.value,u=c.dataset||{},h=u.src||c.getAttribute("href")||c.getAttribute("currentSrc")||c.getAttribute("src")||void 0,d=void 0,f=t.delegate,v=void 0;f&&i.length===t.startIndex&&(d=f instanceof HTMLImageElement?f:f.querySelector("img:not([aria-hidden])")),d||(d=c instanceof HTMLImageElement?c:c.querySelector("img:not([aria-hidden])")),d&&(!(v=d.currentSrc||d.src||void 0)&&d.dataset&&(v=d.dataset.lazySrc||d.dataset.src||void 0));var p={src:h,triggerEl:c,thumbEl:d,thumbElSrc:v,thumbSrc:v};for(var m in u)"fancybox"!==m&&(p[m]=u[m]+"");i.push(p)}}catch(e){o=!0,r=e}finally{try{a||null==l.return||l.return()}finally{if(o)throw r}}return new n(i,t)}},{key:"getInstance",value:function(e){return e?ht.get(e):Array.from(ht.values()).reverse().find((function(e){return!e.isClosing()&&e}))||null}},{key:"getSlide",value:function(){var e;return(null===(e=n.getInstance())||void 0===e?void 0:e.getSlide())||null}},{key:"show",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new n(e,t)}},{key:"next",value:function(){var e=n.getInstance();e&&e.next()}},{key:"prev",value:function(){var e=n.getInstance();e&&e.prev()}},{key:"close",value:function(){for(var t,i=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],a=arguments.length,o=new Array(a>1?a-1:0),r=1;r<a;r++)o[r-1]=arguments[r];var s=!0,l=!1,c=void 0;if(i)try{for(var u,h=ht.values()[Symbol.iterator]();!(s=(u=h.next()).done);s=!0){var d=u.value;(t=d).close.apply(t,e(z)(o))}}catch(e){l=!0,c=e}finally{try{s||null==h.return||h.return()}finally{if(l)throw c}}else{var f,v=n.getInstance();v&&(f=v).close.apply(f,e(z)(o))}}}]),n}(se);Object.defineProperty(ft,"version",{enumerable:!0,configurable:!0,writable:!0,value:"5.0.16"}),Object.defineProperty(ft,"defaults",{enumerable:!0,configurable:!0,writable:!0,value:Be}),Object.defineProperty(ft,"Plugins",{enumerable:!0,configurable:!0,writable:!0,value:st}),Object.defineProperty(ft,"openers",{enumerable:!0,configurable:!0,writable:!0,value:new Map});var vt,pt=document.querySelector(".modal-card__movie-info"),mt=function(e,t){var i=e.genres,n=e.id,a=e.original_title,o=e.overview,r=e.popularity,s=e.poster_path,l=e.title,c=e.vote_average,u=e.vote_count;if(t){var h='    \n \n  <div class="modal-card__poster" data-movie-id="'.concat(n,'">\n  <img \n    class="modal-card__img"\n    src="https://image.tmdb.org/t/p/original').concat(s,'"\n    width="375"\n    alt="').concat(a,'"\n    loading="lazy"\n  />\n</div>\n<div class="modal-card__movie-description">\n  <h2 class="modal-card__movie-title uppercase">').concat(l,'</h2>\n  <ul class="movie-data-list">\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Vote / Votes</p>\n      <p class="movie-data-list__item-value">\n        <span class="rating--orange"> ').concat(c.toFixed(2),' </span> / <span class="rating--grey"> ').concat(u,'</span>\n      </p>\n    </li>\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Popularity</p>\n      <p class="movie-data-list__item-value">').concat(r,'</p>\n    </li>\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Original Title</p>\n      <p class="movie-data-list__item-value uppercase">\n        ').concat(a,'\n      </p>\n    </li>\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Genre</p>\n      <p class="movie-data-list__item-value">').concat(i.map((function(e){return e.name})).join(", "),'</p>\n    </li>\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Trailer</p>\n      <div><a class="modal-card__yt-link link" href="').concat(t,'" data-fancybox>\n      <p><span class="yt-logo"></span>Watch the trailer</p></a></div>\n    </li>\n  </ul>\n  <h3 class="modal-card__about uppercase">About</h3>\n  <p class="modal-card__about-description">').concat(o,'</p>\n  <div class="button-list">\n    <button\n      class="button button--orange uppercase"\n      type="button"\n      [data-add-to-watched]\n    >\n      Add to watched\n    </button>\n    <button\n      class="button button--transparent-black uppercase"\n      type="button"\n      [data-add-to-queue]\n    >\n      Add to queue\n    </button>\n  </div>\n</div>\n');pt.innerHTML=h,ft.bind("[data-fancybox]",{})}else{var d='    \n \n  <div class="modal-card__poster" data-movie-id="'.concat(n,'">\n  <img \n    class="modal-card__img"\n    src="https://image.tmdb.org/t/p/original').concat(s,'"\n    width="375"\n    alt="').concat(a,'"\n    loading="lazy"\n  />\n</div>\n<div class="modal-card__movie-description">\n  <h2 class="modal-card__movie-title uppercase">').concat(l,'</h2>\n  <ul class="movie-data-list">\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Vote / Votes</p>\n      <p class="movie-data-list__item-value">\n        <span class="rating--orange"> ').concat(c.toFixed(2),' </span> / <span class="rating--grey"> ').concat(u,'</span>\n      </p>\n    </li>\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Popularity</p>\n      <p class="movie-data-list__item-value">').concat(r,'</p>\n    </li>\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Original Title</p>\n      <p class="movie-data-list__item-value uppercase">\n        ').concat(a,'\n      </p>\n    </li>\n    <li class="movie-data-list__item">\n      <p class="movie-data-list__item-description">Genre</p>\n      <p class="movie-data-list__item-value">').concat(i.map((function(e){return e.name})).join(", "),'</p>\n    </li>\n  </ul>\n  <h3 class="modal-card__about uppercase">About</h3>\n  <p class="modal-card__about-description">').concat(o,'</p>\n  <div class="button-list">\n    <button\n      class="button button--orange uppercase"\n      type="button"\n      [data-add-to-watched]\n    >\n      Add to watched\n    </button>\n    <button\n      class="button button--transparent-black uppercase"\n      type="button"\n      [data-add-to-queue]\n    >\n      Add to queue\n    </button>\n  </div>\n</div>\n');pt.innerHTML=d}},gt="11f568ee70218bec08ad7368f7bb3250",yt="https://api.themoviedb.org/3/movie/popular",bt=document.querySelector(".header-no-hit-info"),wt=(vt=e(o)(e(s).mark((function t(){var i,n;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.themoviedb.org/3/genre/movie/list","?api_key=").concat(gt));case 3:if((i=e.sent).ok){e.next=6;break}throw new Error(i.status);case 6:return e.next=8,i.json();case 8:return n=e.sent,console.log(n.genres),t=void 0,t=n.genres,localStorage.setItem("movieGenresIdsArray",JSON.stringify(t)),e.abrupt("return");case 14:e.prev=14,e.t0=e.catch(0),console.error(e.t0);case 17:case"end":return e.stop()}var t}),t,null,[[0,14]])}))),function(){return vt.apply(this,arguments)}),xt=function(){var t=e(o)(e(s).mark((function t(){var i,n,a,o=arguments;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=o.length>0&&void 0!==o[0]?o[0]:1,e.prev=1,e.next=4,fetch("".concat(yt,"?api_key=").concat(gt,"&page=").concat(i));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.status);case 7:return e.next=9,n.json();case 9:a=e.sent,console.log(a),f(a.results),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(1),console.error(e.t0);case 17:case"end":return e.stop()}}),t,null,[[1,14]])})));return function(){return t.apply(this,arguments)}}(),kt=function(){var t=e(o)(e(s).mark((function t(i){var n,a;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,bt.textContent="",e.next=4,fetch("".concat("https://api.themoviedb.org/3/search/movie","?api_key=").concat(gt,"&query=").concat(i,"&page=").concat(1));case 4:if((n=e.sent).ok){e.next=7;break}throw new Error(n.status);case 7:return e.next=9,n.json();case 9:if((a=e.sent).total_results){e.next=14;break}return bt.textContent="Search result not successful. Enter the correct movie name and search again.",console.log("pusta tablica"),e.abrupt("return");case 14:console.log('Poniżej przykladowy console.log dla filmu "'.concat(i,'"')),console.log(a),document.querySelector("form").addEventListener("submit",(function(){var e=document.querySelector(".loader");e.classList.remove("loader-hidden"),setTimeout((function(){e.classList.add("loader-hidden")}),1500),console.log(e.classList)})),console.log("showLoader work"),f(a.results),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.error(e.t0);case 23:case"end":return e.stop()}}),t,null,[[0,20]])})));return function(e){return t.apply(this,arguments)}}(),St=function(){var t=e(o)(e(s).mark((function t(i){var n,a,o,r;return e(s).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat("https://api.themoviedb.org/3/movie/").concat(i,"?api_key=").concat(gt,"&append_to_response=videos"));case 3:if((n=e.sent).ok){e.next=6;break}throw new Error(n.status);case 6:return e.next=8,n.json();case 8:return a=e.sent,o=a.videos.results,r=Et(o),console.log("movie trailer url"+r),e.abrupt("return",mt(a,r));case 15:e.prev=15,e.t0=e.catch(0),console.error(e.t0);case 18:case"end":return e.stop()}}),t,null,[[0,15]])})));return function(e){return t.apply(this,arguments)}}(),Et=function(e){var t=e.findIndex((function(e){return"Trailer"===e.type}));if(-1!==t){var i=e[t].key,n="https://www.youtube.com/watch?v=".concat(i);return console.log(" oraz url do trailera: ".concat(n)),n}console.log("There's no trailer")},Pt=document.querySelector(".gallery"),Mt=document.querySelector(".header-input__text-box"),Ot=document.querySelector(".header-no-hit-info");var Tt=document.querySelector("[data-modal]"),Ct=(document.querySelector(".modal-card"),document.querySelector("[data-add-to-watched]"),document.querySelector("[data-add-to-queue]"),document.querySelector(".close-btn")),At=function(){Tt.classList.toggle("is-hidden")},Lt=function(){At()},_t=document.querySelector(".header-input__form"),zt=document.querySelector(".gallery");_t.addEventListener("submit",(function(e){e.preventDefault();var t=Mt.value.trim();Ot.textContent="",t?(Pt.textContent="",kt(t)):Ot.textContent="Type your movie title here"})),wt(),window.addEventListener("load",(function(){localStorage.getItem("movieGenresIdsArray")||wt();var e=document.querySelector(".loader");e.classList.remove("loader-hidden"),setTimeout((function(){e.classList.add("loader-hidden")}),1500),console.log(e.classList)})),console.log("startLoader work"),xt();zt.addEventListener("click",(function(e){At();var t=e.target.parentElement.parentElement;console.log(t.dataset.movieId),St(t.dataset.movieId),Ct.addEventListener("click",Lt),document.addEventListener("click",(function(e){e.target}))}))}();
//# sourceMappingURL=index.c589d491.js.map
